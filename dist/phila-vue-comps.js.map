{"version":3,"file":"phila-vue-comps.js","sources":["../node_modules/@fortawesome/pro-solid-svg-icons/faExternalLink.js","../node_modules/@fortawesome/pro-solid-svg-icons/faSearch.js","../node_modules/@fortawesome/pro-solid-svg-icons/faTimes.js","../node_modules/@fortawesome/pro-solid-svg-icons/faTimesCircle.js","../node_modules/@fortawesome/pro-solid-svg-icons/faCaretLeft.js","../node_modules/@fortawesome/pro-solid-svg-icons/faCaretRight.js","../src/components/AddressCandidateList.vue","../src/util/unique-id.js","../src/components/AddressInput.vue","../src/components/ConfigurableInput.vue","../src/components/TopicComponent.vue","../src/components/AnyHeader.vue","../src/components/ExternalLink.vue","../src/components/Badge.vue","../src/components/ButtonComp.vue","../src/components/Callout.vue","../src/components/CollectionSummary.vue","../src/components/Division.vue","../src/util/generate-billing-xml.js","../src/components/ePayForm.vue","../src/components/PopoverLink.vue","../src/components/HorizontalTableRow.vue","../src/components/HorizontalTable.vue","../src/components/Image.vue","../src/components/VerticalTable.vue","../src/components/OverlayToggleGroup.vue","../src/components/Paragraph.vue","../src/components/SpanComp.vue","../src/components/List.vue","../src/components/TabGroup.vue","../src/components/HorizontalTableGroup.vue","../src/components/Topic.vue","../src/components/TopicSet.vue","../src/components/Popover.vue","../src/components/TopicComponentGroup.vue","../src/components/BadgeCustom.vue","../src/components/FullScreenTopicsToggleTab.vue","../src/components/FullScreenTopicsToggleTabVertical.vue","../src/components/Greeting.vue","../src/store.js","../src/main.js"],"sourcesContent":["'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'external-link';\nvar width = 576;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f08e';\nvar svgPathData = 'M448 279.196V464c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h248a24 24 0 0 1 16.97 7.029l16 16C344.09 102.149 333.382 128 312 128H64v320h320V295.196c0-6.365 2.529-12.47 7.029-16.971l16-16C422.148 247.106 448 257.814 448 279.196zM576 37.333C576 16.715 559.285 0 538.667 0H380c-15.464 0-28 12.536-28 28v17.885c0 15.766 13.011 28.424 28.772 27.989l67.203-1.906L199.09 319.09c-9.429 9.363-9.457 24.605-.061 34.001l23.879 23.879c9.396 9.396 24.639 9.369 34.001-.06l247.122-248.885-1.906 67.203c-.434 15.76 12.224 28.772 27.99 28.772H548c15.464 0 28-12.536 28-28V37.333z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faExternalLink = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'search';\nvar width = 512;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f002';\nvar svgPathData = 'M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faSearch = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'times';\nvar width = 352;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f00d';\nvar svgPathData = 'M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faTimes = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'times-circle';\nvar width = 512;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f057';\nvar svgPathData = 'M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faTimesCircle = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'caret-left';\nvar width = 192;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f0d9';\nvar svgPathData = 'M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCaretLeft = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'caret-right';\nvar width = 192;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f0da';\nvar svgPathData = 'M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCaretRight = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","<template>\r\n  <div :class=\"this.listGroupClass\"\r\n       v-show=\"this.shouldShowAddressCandidateList\"\r\n       :style=\"this.listStyle\"\r\n  >\r\n  <!-- :style=\"'width: ' + this.inputWidth + 'px;'\" -->\r\n    <ul>\r\n      <li v-for=\"(candidate, i) in candidates\">\r\n        <a :href=\"createLink(candidate)\"\r\n           @click=\"closeAddressCandidateList(candidate)\"\r\n           class=\"list-group-item\"\r\n           tabindex=\"-1\"\r\n           :id=\"'address-candidate-list-' + i\"\r\n           @keydown=\"maybeUsedArrow\"\r\n        >\r\n          {{ candidate }}\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  export default {\r\n    name: 'AddressCandidateList',\r\n    data() {\r\n      const data = {\r\n        listStyle: {\r\n          'width': '250px'\r\n        }\r\n      }\r\n      return data;\r\n    },\r\n    created() {\r\n      window.addEventListener('resize', this.handleWindowResize);\r\n      this.handleWindowResize();\r\n    },\r\n    watch: {\r\n      addressEntered(nextValue) {\r\n        this.handleWindowResize();\r\n      }\r\n    },\r\n    props: [\r\n      'widthFromConfig',\r\n    ],\r\n    computed: {\r\n      inputWidth() {\r\n        return this.$props.widthFromConfig - 55;\r\n      },\r\n      candidates() {\r\n        const autocompleteMax = this.$config.addressInput.autocompleteMax\r\n        if (!autocompleteMax) {\r\n          return this.$store.state.candidates;\r\n        } else {\r\n          let candidates = this.$store.state.candidates.slice(0, autocompleteMax);\r\n          return candidates;\r\n        }\r\n      },\r\n      shouldShowAddressCandidateList() {\r\n        return this.$store.state.shouldShowAddressCandidateList;\r\n      },\r\n      activeTopic() {\r\n        return this.$store.state.activeTopic;\r\n      },\r\n      isMobileOrTablet() {\r\n        return this.$store.state.isMobileOrTablet;\r\n      },\r\n      addressAutocompleteEnabled() {\r\n        // TODO this is temporarily disabled\r\n        if (this.$config.addressInput) {\r\n          if (this.$config.addressInput.autocompleteEnabled === true) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      listGroupClass() {\r\n        if (this.isMobileOrTablet) {\r\n          if (this.addressAutocompleteEnabled) {\r\n            if (this.addressEntered === '' || this.addressEntered === null) {\r\n              return 'list-group-mobile';\r\n            } else {\r\n              return 'list-group-mobile-full';\r\n            }\r\n          } else {\r\n            return 'list-group-mobile';\r\n          }\r\n        } else {\r\n          if (this.addressAutocompleteEnabled) {\r\n            if (this.addressEntered === '' || this.addressEntered === null) {\r\n              return 'list-group';\r\n            } else {\r\n              return 'list-group-full';\r\n            }\r\n          } else {\r\n            return 'list-group';\r\n          }\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      createLink(candidate) {\r\n        if (this.$store.state.activeTopic) {\r\n          return '#/' + candidate + '/' + this.activeTopic;\r\n        } else {\r\n          return '#/' + candidate;\r\n        }\r\n      },\r\n      maybeUsedArrow(e) {\r\n        const id = e.target.id;\r\n        const index = parseInt(id.substring(id.lastIndexOf('-') + 1));\r\n        let indexUp, indexDown;\r\n        if (index < this.candidates.length - 1) {\r\n          indexUp = index + 1;\r\n        } else (\r\n          indexUp = index\r\n        )\r\n        if (index !== 0) {\r\n          indexDown = index - 1;\r\n        } else {\r\n          indexDown = 0\r\n        }\r\n        // console.log('maybeUsedArrow running, e:', e, 'index:', index, 'indexUp:', indexUp, 'indexDown:', indexDown);\r\n        if (e.key === \"ArrowDown\") {\r\n          document.getElementById('address-candidate-list-' + indexUp).focus();\r\n        }\r\n        if (e.key === \"ArrowUp\") {\r\n          document.getElementById('address-candidate-list-' + indexDown).focus();\r\n        }\r\n      },\r\n      closeAddressCandidateList(addressCandidate) {\r\n        console.log('AddressCandidateList.vue closeAddressCandidateList is running, addressCandidate:', addressCandidate);\r\n        // this.$controller.handleSearchFormSubmit(addressCandidate);\r\n        this.$store.commit('setAddressEntered', addressCandidate);\r\n        this.$store.commit('setShouldShowAddressCandidateList', false);\r\n      },\r\n      handleWindowResize(addressEntered) {\r\n        if (window.innerWidth >= 850) {\r\n          this.listStyle.width = this.$props.widthFromConfig - 55 + 'px';\r\n        } else if (window.innerWidth >= 750) {\r\n          this.listStyle.width = this.$props.widthFromConfig - 155 + 'px';\r\n        } else {\r\n          this.listStyle.width = '248px';\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.list-group {\r\n  display: inline-block;\r\n  height: 300px;\r\n  width: 250px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n}\r\n\r\n/* .list-group-full {\r\n  display: inline-block;\r\n  height: 300px;\r\n  width: 197px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n} */\r\n\r\n/* .list-group-mobile {\r\n  display: inline-block;\r\n  height: 300px;\r\n  width: 250px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n}\r\n\r\n.list-group-mobile-full {\r\n  display: inline-block;\r\n  height: 300px;\r\n  width: 197px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n} */\r\n\r\nul {\r\n  list-style-type: none;\r\n  margin-left: 0px;\r\n}\r\n\r\n.list-group-item {\r\n  /* width: 237px; */\r\n  display: block;\r\n  border-radius: 2px;\r\n  box-shadow:0 2px 4px rgba(0,0,0,0.2),0 -1px 0px rgba(0,0,0,0.02);\r\n  border: 2;\r\n  background-color: white;\r\n  padding-top: 10px;\r\n  padding-bottom: 10px;\r\n  padding-left: 10px;\r\n  font-family: 'Montserrat', 'Tahoma', sans-serif;\r\n  font-size: 14px;\r\n  font-weight: normal;\r\n}\r\n\r\n.list-group-item:hover {\r\n  background-color: #ffefa2;\r\n  font-weight: bold;\r\n}\r\n\r\n/*small*/\r\n@media screen and (max-width: 39.9375em) {\r\n  .list-group {\r\n    width: 200px;\r\n  }\r\n\r\n  .list-group-mobile {\r\n    width: 200px;\r\n  }\r\n\r\n  .list-group-full {\r\n    width: 147px;\r\n  }\r\n\r\n  .list-group-mobile-full {\r\n    width: 158px;\r\n  }\r\n}\r\n\r\n</style>\r\n","function generateUniqueId() {\r\n  return 'id-' + Math.random().toString(36).substring(7);\r\n}\r\n\r\nexport default generateUniqueId;\r\n","<template>\r\n  <div :class=\"'pvc-search-control-container ' + this.containerClass\"\r\n       :style=\"this.containerStyle\"\r\n  >\r\n    <form @submit.prevent=\"handleSearchFormSubmit\"\r\n          autocomplete=\"off\"\r\n          id=\"search-form\"\r\n          class=\"pvc-search-control-form\"\r\n    >\r\n      <input :class=\"'pvc-search-control-input ' + this.inputClass\"\r\n             :id=\"inputID\"\r\n             :style=\"this.inputStyle\"\r\n             :placeholder=\"this.$props.placeholder || 'Search the map'\"\r\n             :value=\"this.addressEntered\"\r\n             tabindex=\"0\"\r\n             @keyup=\"didType\"\r\n      />\r\n    </form>\r\n    <button :class=\"'pvc-search-control-button ' + this.buttonClass\"\r\n            v-if=\"this.addressEntered != '' && this.addressEntered != null\"\r\n            @click=\"handleFormX\"\r\n    >\r\n    <!-- v-if=\"this.addressAutocompleteEnabled && this.addressEntered != '' && this.addressEntered != null\" -->\r\n      <font-awesome-icon icon=\"times\" />\r\n    </button>\r\n    <button :class=\"'pvc-search-control-button ' + this.buttonClass\"\r\n            tabindex=\"-1\"\r\n            @click=\"this.handleSearchFormSubmit\"\r\n    >\r\n      <font-awesome-icon icon=\"search\" />\r\n    </button>\r\n    <slot name=\"address-candidates-slot\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import debounce from 'lodash.debounce';\r\n  import axios from 'axios';\r\n  import generateUniqueId from '../util/unique-id';\r\n\r\n  export default {\r\n    name: 'AddressInput',\r\n    props: [\r\n      'widthFromConfig',\r\n      'placeholder',\r\n    ],\r\n    data() {\r\n      const data = {\r\n        containerStyle: {\r\n          'width': '305px',\r\n        },\r\n        inputStyle: {\r\n          'width': '250px',\r\n        },\r\n        inputID: generateUniqueId(),\r\n        addressEntered: null,\r\n      }\r\n      return data;\r\n    },\r\n    created() {\r\n      window.addEventListener('resize', this.handleWindowResize);\r\n      this.handleWindowResize();\r\n    },\r\n    watch: {\r\n      addressEntered(nextValue) {\r\n        this.handleWindowResize();\r\n      }\r\n    },\r\n    computed: {\r\n      // addressEntered() {\r\n      //   return this.$store.state.addressEntered;\r\n      // },\r\n      inputWidth() {\r\n        // if (this.addressAutocompleteEnabled) {\r\n          if (this.addressEntered === '' || this.addressEntered === null) {\r\n            return this.$props.widthFromConfig - 55;\r\n          } else {\r\n            return this.$props.widthFromConfig - 108;\r\n          }\r\n        // } else {\r\n        //   return this.$props.widthFromConfig - 55;\r\n        // }\r\n      },\r\n      inputClass() {\r\n        if (this.isMobileOrTablet) {\r\n          return 'pvc-input-mobile';\r\n        } else {\r\n          return 'pvc-input-non-mobile';\r\n        }\r\n      },\r\n      containerClass() {\r\n        if (this.isMobileOrTablet) {\r\n          return 'pvc-container-mobile';\r\n        } else {\r\n          return 'pvc-container-non-mobile';\r\n        }\r\n      },\r\n      buttonClass() {\r\n        if (this.isMobileOrTablet) {\r\n          return 'pvc-button-mobile'\r\n        } else {\r\n          return 'pvc-button-non-mobile'\r\n        }\r\n      },\r\n      addressAutocompleteEnabled() {\r\n        // TODO this is temporarily disabled\r\n        if (this.$config.addressInput) {\r\n          if (this.$config.addressInput.autocompleteEnabled === true) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      isMobileOrTablet() {\r\n        return this.$store.state.isMobileOrTablet;\r\n      },\r\n    },\r\n    methods: {\r\n      didType: debounce(function (e) {\r\n          // console.log('debounce is running');\r\n          const { value } = e.target;\r\n          this.$data.addressEntered = value;\r\n          // this.$store.commit('setAddressEntered', value);\r\n\r\n          if (this.addressAutocompleteEnabled) {\r\n            // console.log('debounce is running, e:', e, 'this:', this);\r\n            if (e.key === \"ArrowDown\") {\r\n              document.getElementById('address-candidate-list-0').focus();\r\n              return;\r\n            }\r\n            // const { value } = e.target;\r\n            this.getCandidates(value);\r\n            // this.$store.commit('setAddressEntered', value);\r\n            if (e.key !== \"Enter\") {\r\n              // console.log('AddressInput.vue didType is running, e.key !== \"Enter\"');\r\n              this.$store.commit('setShouldShowAddressCandidateList', true);\r\n            }\r\n          }\r\n        }, 300\r\n      ),\r\n      getCandidates(address) {\r\n        // console.log('getCandidates is running, address:', address);\r\n        axios.get('https://cqvfg1pm72.execute-api.us-east-1.amazonaws.com/dev/first-api-test/', {\r\n          params: {\r\n            address,\r\n          },\r\n        })\r\n          .then(this.didGetCandidates)\r\n          .catch(this.didGetCandidatesError);\r\n      },\r\n      didGetCandidates(res) {\r\n        const { matches } = res.data;\r\n        // console.log('matches:', matches, 'matches map:', matches.map(x => x.address));\r\n        const matchesArray = matches.map(x => x.address);\r\n        this.$store.commit('setCandidates', matchesArray);\r\n      },\r\n      didGetCandidatesError(err) {\r\n        console.log('error getting candidates', err);\r\n        this.$store.commit('setCandidates', []);\r\n      },\r\n      handleFormX() {\r\n        console.log('handleFormX is running');\r\n        this.$data.addressEntered = '';\r\n        // this.$store.commit('setAddressEntered', '');\r\n        this.$store.commit('setShouldShowAddressCandidateList', false);\r\n        this.$store.commit('setCandidates', []);\r\n      },\r\n      handleSearchFormSubmit() {\r\n        console.log('handleSearchFormSubmit is running');\r\n        let value;\r\n        if (this.addressAutocompleteEnabled){\r\n          value = addressEntered\r\n          // value = this.$store.state.addressEntered;\r\n        } else {\r\n          // if (document.querySelector('#' + inputID)) {\r\n          value = document.querySelector('#' + this.$data.inputID.toString()).value;\r\n          // } else if (document.querySelector('#pvm-search-control-input')) {\r\n          //   value = document.querySelector('#pvm-search-control-input')\r\n          // } else {\r\n          //   return;\r\n          // }\r\n        }\r\n        // console.log('phila-vue-comps AddressInput.vue, handleSearchFormSubmit is running, value:', value);\r\n        this.$controller.handleSearchFormSubmit(value);\r\n        // this.$store.commit('setAddressEntered', value);\r\n      },\r\n      handleWindowResize() {\r\n        const addressEntered = this.addressEntered;\r\n        // console.log('AddressInput.vue handleWindowResize is running', window.innerWidth, 'addressEntered:', addressEntered);\r\n        if (window.innerWidth >= 850) {\r\n          this.containerStyle.width = this.$props.widthFromConfig + 'px';\r\n          if (addressEntered === '' || addressEntered === null) {\r\n            this.inputStyle.width = this.$props.widthFromConfig - 55 + 'px';\r\n          } else {\r\n            this.inputStyle.width = this.$props.widthFromConfig - 108 + 'px';\r\n          }\r\n        } else if (window.innerWidth >= 750) {\r\n          this.containerStyle.width = this.$props.widthFromConfig - 100 + 'px';\r\n          if (addressEntered === '' || addressEntered === null) {\r\n            this.inputStyle.width = this.$props.widthFromConfig - 155 + 'px';\r\n          } else {\r\n            this.inputStyle.width = this.$props.widthFromConfig - 208 + 'px';\r\n          }\r\n        } else {\r\n          this.containerStyle.width = '300px';\r\n          if (addressEntered === '' || addressEntered === null) {\r\n            this.inputStyle.width = '245px';\r\n          } else {\r\n            this.inputStyle.width = '192px';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.pvc-search-control-form {\r\n  display: inline-block;\r\n}\r\n\r\n/* Container */\r\n\r\n.pvc-search-control-container {\r\n  display: inline-block;\r\n  border-radius: 2px;\r\n  box-shadow:0 2px 4px rgba(0,0,0,0.2),0 -1px 0px rgba(0,0,0,0.02);\r\n  width: 305px;\r\n}\r\n\r\n.pvc-container-non-mobile {\r\n  height: 48px;\r\n}\r\n\r\n.pvc-container-mobile {\r\n  height: 38px;\r\n}\r\n\r\n\r\n/* Input */\r\n\r\n.pvc-search-control-input {\r\n  display: inline-block;\r\n  border: 0;\r\n  padding: 15px;\r\n  font-family: 'Montserrat', 'Tahoma', sans-serif;\r\n  font-size: 16px;\r\n  width: 250px;\r\n}\r\n\r\n.pvc-input-non-mobile {\r\n  height: 48px;\r\n}\r\n\r\n.pvc-input-mobile {\r\n  height: 38px;\r\n}\r\n\r\n\r\n/* Button */\r\n\r\n.pvc-search-control-button {\r\n  display: inline-block;\r\n  color: #fff;\r\n  background: #2176d2;\r\n  padding: 0px;\r\n  width: 50px;\r\n}\r\n\r\n.pvc-button-non-mobile {\r\n  height: 48px;\r\n  line-height: 48px;\r\n}\r\n\r\n.pvc-button-mobile {\r\n  height: 38px;\r\n  line-height: 38px;\r\n  padding-top: 1px;\r\n}\r\n\r\n\r\n</style>\r\n","<template>\r\n  <div :class=\"'pvc-search-control-container ' + this.containerClass\"\r\n       :style=\"this.containerStyle\"\r\n  >\r\n    <!-- <form @submit.prevent=\"handleConfigurableInputSubmit\" -->\r\n    <form @submit.prevent\r\n          autocomplete=\"off\"\r\n          id=\"search-form\"\r\n          class=\"pvc-search-control-form\"\r\n    >\r\n      <select class=\"pvc-search-control-select\"\r\n              :id=\"selectID\"\r\n              :style=\"this.selectStyle\"\r\n      >\r\n      <!-- name=\"select\" -->\r\n        <option value=\"address\">address</option>\r\n        <option value=\"owner\">owner</option>\r\n      </select>\r\n      <input :class=\"'pvc-search-control-input ' + this.inputClass\"\r\n             :id=\"inputID\"\r\n             :style=\"this.inputStyle\"\r\n             :placeholder=\"this.$props.placeholder || 'Search'\"\r\n             :value=\"this.configurableInputValueEntered\"\r\n             tabindex=\"0\"\r\n             @keyup=\"didType\"\r\n      />\r\n    <!-- </form> -->\r\n      <button :class=\"'pvc-search-control-button ' + this.buttonClass\"\r\n              v-if=\"this.configurableInputValueEntered != '' && this.configurableInputValueEntered != null\"\r\n              @click=\"handleFormX\"\r\n      >\r\n      <font-awesome-icon icon=\"times\" />\r\n      </button>\r\n      <button :class=\"'pvc-search-control-button ' + this.buttonClass\"\r\n              tabindex=\"-1\"\r\n              @click=\"this.handleConfigurableInputSubmit\"\r\n      >\r\n        <font-awesome-icon icon=\"search\" />\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import debounce from 'lodash.debounce';\r\n  import axios from 'axios';\r\n  import generateUniqueId from '../util/unique-id';\r\n\r\n  export default {\r\n    props: [\r\n      'process',\r\n      'widthFromConfig',\r\n      'placeholder',\r\n    ],\r\n    data() {\r\n      const data = {\r\n        containerStyle: {\r\n          'width': '455px',\r\n          'height': '48px',\r\n          // 'width': '305px',\r\n        },\r\n        selectStyle: {\r\n          'width': '150px',\r\n        },\r\n        inputStyle: {\r\n          'width': '250px',\r\n        },\r\n        inputID: generateUniqueId(),\r\n        configurableInputValueEntered: null,\r\n        selectID: generateUniqueId(),\r\n        categorySelected: null,\r\n      }\r\n      return data;\r\n    },\r\n    created() {\r\n\r\n      window.addEventListener('resize', this.handleWindowResize);\r\n      this.handleWindowResize();\r\n    },\r\n    watch: {\r\n      configurableInputValueEntered(nextValue) {\r\n        this.handleWindowResize();\r\n      }\r\n    },\r\n    computed: {\r\n      inputWidth() {\r\n        if (this.configurableInputValueEntered === '' || this.configurableInputValueEntered === null) {\r\n          return this.$props.widthFromConfig - 55;\r\n        } else {\r\n          return this.$props.widthFromConfig - 108;\r\n        }\r\n      },\r\n      inputClass() {\r\n        if (this.isMobileOrTablet) {\r\n          return 'pvc-input-mobile';\r\n        } else {\r\n          return 'pvc-input-non-mobile';\r\n        }\r\n      },\r\n      containerClass() {\r\n        if (this.isMobileOrTablet) {\r\n          return 'pvc-container-mobile';\r\n        } else {\r\n          return 'pvc-container-non-mobile';\r\n        }\r\n      },\r\n      buttonClass() {\r\n        if (this.isMobileOrTablet) {\r\n          return 'pvc-button-mobile'\r\n        } else {\r\n          return 'pvc-button-non-mobile'\r\n        }\r\n      },\r\n      isMobileOrTablet() {\r\n        return this.$store.state.isMobileOrTablet;\r\n      },\r\n    },\r\n    methods: {\r\n      didType: debounce(function (e) {\r\n          // console.log('debounce is running');\r\n          const { value } = e.target;\r\n          this.$data.configurableInputValueEntered = value;\r\n          // this.$store.commit('setConfigurableInputValueEntered', value);\r\n        }, 300\r\n      ),\r\n      handleFormX() {\r\n        console.log('handleFormX is running');\r\n        this.$data.configurableInputValueEntered = '';\r\n        // this.$store.commit('setConfigurableInputValueEntered', '');\r\n      },\r\n      handleConfigurableInputSubmit() {\r\n        console.log('handleConfigurableInputSubmit is running');\r\n        const process = this.$props.process || 'mapboard';\r\n        let searchCategory, value;\r\n        // if (document.querySelector('#' + this.$data.selectID)) {\r\n        const e = document.getElementById(this.$data.selectID);\r\n        searchCategory = e.options[e.selectedIndex].value;\r\n        // }\r\n        // if (document.querySelector('#pvc-search-control-input')) {\r\n        value = document.querySelector('#' + this.$data.inputID).value;\r\n        // } else if (document.querySelector('#pvm-search-control-input')) {\r\n        //   value = document.querySelector('#pvm-search-control-input').value;\r\n        // } else {\r\n        //   return;\r\n        // }\r\n        this.$controller.filterInputSubmit(value, process, searchCategory);\r\n        this.$data.configurableInputValueEntered = value;\r\n        this.$data.categorySelected = searchCategory;\r\n      },\r\n      handleWindowResize() {\r\n        const configurableInputValueEntered = this.configurableInputValueEntered;\r\n        const theWidth = window.innerWidth;\r\n        // console.log('AddressInput.vue handleWindowResize is running', theWidth, 'configurableInputValueEntered:', configurableInputValueEntered);\r\n        if (window.innerWidth >= 850) {\r\n          this.containerStyle.width = this.$props.widthFromConfig + 'px';\r\n          this.containerStyle.height = '48px';\r\n          this.selectStyle.width = '150px';\r\n          if (configurableInputValueEntered === '' || configurableInputValueEntered === null) {\r\n            // this.inputStyle.width = this.$props.widthFromConfig - 55 + 'px';\r\n            this.inputStyle.width = this.$props.widthFromConfig - 208 + 'px';\r\n          } else {\r\n            // this.inputStyle.width = this.$props.widthFromConfig - 108 + 'px';\r\n            this.inputStyle.width = this.$props.widthFromConfig - 261 + 'px';\r\n          }\r\n        } else if (window.innerWidth >= 750) {\r\n          this.containerStyle.width = this.$props.widthFromConfig - 97 + 'px';\r\n          this.containerStyle.height = '48px';\r\n          this.selectStyle.width = '150px';\r\n          if (configurableInputValueEntered === '' || configurableInputValueEntered === null) {\r\n            // this.inputStyle.width = this.$props.widthFromConfig - 155 + 'px';\r\n            this.inputStyle.width = this.$props.widthFromConfig - 305 + 'px';\r\n          } else {\r\n            // this.inputStyle.width = this.$props.widthFromConfig - 208 + 'px';\r\n            this.inputStyle.width = this.$props.widthFromConfig - 358 + 'px';\r\n          }\r\n        } else {\r\n          // console.log('theWidth:', theWidth);\r\n          this.containerStyle.width = theWidth - 30 + 'px';\r\n          this.containerStyle.height = '92px';\r\n          this.selectStyle.width = theWidth - 40 + 'px';\r\n          if (configurableInputValueEntered === '' || configurableInputValueEntered === null) {\r\n            // this.inputStyle.width = '245px';\r\n            this.inputStyle.width = theWidth - 95 + 'px';\r\n          } else {\r\n            // this.inputStyle.width = '192px';\r\n            this.inputStyle.width = theWidth - 148 + 'px';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.pvc-search-control-form {\r\n  height: 300px;\r\n  display: inline-block;\r\n}\r\n\r\n/* Container */\r\n\r\n.pvc-search-control-container {\r\n  display: inline-block;\r\n  border-radius: 2px;\r\n  box-shadow:0 2px 4px rgba(0,0,0,0.2),0 -1px 0px rgba(0,0,0,0.02);\r\n  width: 455px;\r\n  /* width: 305px; */\r\n}\r\n\r\n.pvc-container-non-mobile {\r\n  height: 48px;\r\n}\r\n\r\n.pvc-container-mobile {\r\n  height: 38px;\r\n}\r\n\r\n/* Select */\r\n.pvc-search-control-select {\r\n  display: inline-block;\r\n  width: 150px;\r\n  margin-bottom: 0px;\r\n}\r\n\r\n/* Input */\r\n\r\n.pvc-search-control-input {\r\n  display: inline-block;\r\n  border: 0;\r\n  padding: 15px;\r\n  font-family: 'Montserrat', 'Tahoma', sans-serif;\r\n  font-size: 16px;\r\n  width: 250px;\r\n}\r\n\r\n.pvc-input-non-mobile {\r\n  height: 48px;\r\n}\r\n\r\n.pvc-input-mobile {\r\n  height: 38px;\r\n}\r\n\r\n\r\n/* Button */\r\n\r\n.pvc-search-control-button {\r\n  display: inline-block;\r\n  color: #fff;\r\n  background: #2176d2;\r\n  padding: 0px;\r\n  width: 50px;\r\n}\r\n\r\n.pvc-button-non-mobile {\r\n  height: 48px;\r\n  line-height: 48px;\r\n}\r\n\r\n.pvc-button-mobile {\r\n  height: 38px;\r\n  line-height: 38px;\r\n  padding-top: 1px;\r\n}\r\n\r\n\r\n</style>\r\n","<script>\r\n  export default {\r\n    // props: ['slots', 'options', 'item'],\r\n    props: {\r\n      'slots': {\r\n        type: Object,\r\n        default: function() { return {} }\r\n      },\r\n      'options': {\r\n        type: Object,\r\n        default: function() { return {} }\r\n      },\r\n      'item': {\r\n        type: Object,\r\n        default: function() { return {} }\r\n      },\r\n    },\r\n    beforeCreate() {\r\n      // console.log('TopicComponent.vue beforeCreate is running, this:', this);\r\n    },\r\n    created() {\r\n      // console.log('TopicComponent.vue created is running, this.$props.slots:', this.$props.slots);\r\n    },\r\n    computed: {\r\n      nullValue() {\r\n        const options = this.options || {};\r\n        return options.nullValue;\r\n      },\r\n    },\r\n    methods: {\r\n      evaluateSlot(valOrGetter, transforms = [], nullValue = '') {\r\n        // console.log('evaluateSlot is running, valOrGetter:', valOrGetter);\r\n        // check for null val/getter\r\n        if (!valOrGetter) {\r\n          return valOrGetter;\r\n        }\r\n\r\n        const valOrGetterType = typeof valOrGetter;\r\n        let val;\r\n\r\n        // fn\r\n        if (valOrGetterType === 'function') {\r\n          const state = this.$store.state;\r\n          const controller = this.$controller;\r\n          const getter = valOrGetter;\r\n\r\n          // const getterText = String(getter);\r\n          // const depsRe = /state(\\.\\w+)+/g;\r\n          // const depsText = getterText.match(depsRe);\r\n          // const deps = depsText.map(eval);\r\n\r\n          const item = this.item;\r\n          // console.log('in evaluateSlot, item:', item);\r\n\r\n          // if this comp is associated with an \"item\" (generally some object\r\n          // from a list of things, e.g. dor parcels), pass the item itself\r\n          // as well when evaluating\r\n          if (item) {\r\n            val = getter(state, item, controller);\r\n          } else {\r\n            // console.log('evaluateSlot, about to get value');\r\n            val = getter(state);\r\n            // console.log('state:', state, 'val:', val);\r\n          }\r\n        } else {\r\n          val = valOrGetter;\r\n        }\r\n\r\n        // format nulls but not falses\r\n        if (val === false) {\r\n\r\n        } else if (!val) {\r\n          return nullValue;\r\n        }\r\n\r\n        // apply transforms\r\n        for (let transformKey of transforms) {\r\n          // get transform definition from config by name\r\n          const transform = this.$config.transforms[transformKey];\r\n          // make object of (relevant) globals by filtering window object\r\n          let globals;\r\n          const globalKeys = transform.globals;\r\n          if (globalKeys) {\r\n            globals = Object.keys(window)\r\n                          .filter(key => globalKeys.includes(key))\r\n                          .reduce((obj, key) => {\r\n                              obj[key] = window[key];\r\n                              return obj;\r\n                          }, {});\r\n          }\r\n          // run transform\r\n          const fn = transform.transform;\r\n          val = fn(val, globals);\r\n        }\r\n\r\n        return val;\r\n      },\r\n\r\n      // not sure how children can use this. `this` isn't binding correctly at\r\n      // the time the child gets instantiated.\r\n      // getComputedProperties() {\r\n      //   const slots = this.slots;\r\n      //   return Object.keys(slots).reduce((o, key) => {\r\n      //     const valOrGetter = slots[key];\r\n      //     // wrap slot val/getter in evaluator fn\r\n      //     o[key] = () => {\r\n      //       this.evaluateSlot(valOrGetter);\r\n      //     }\r\n      //     return o;\r\n      //   }, {});\r\n      // }\r\n    },\r\n  };\r\n</script>\r\n","<template>\r\n  <div>\r\n    <h1 :style=\"this.style\"\r\n         v-html=\"this.message\"\r\n         v-if=\"this.headerType === 'h1'\"\r\n    />\r\n    <h2 :style=\"this.style\"\r\n         v-html=\"this.message\"\r\n         v-if=\"this.headerType === 'h2'\"\r\n    />\r\n    <h3 :style=\"this.style\"\r\n         v-html=\"this.message\"\r\n         v-if=\"this.headerType === 'h3'\"\r\n    />\r\n    <h4 :style=\"this.style\"\r\n         v-html=\"this.message\"\r\n         v-if=\"this.headerType === 'h4'\"\r\n    />\r\n    <h5 :style=\"this.style\"\r\n         v-html=\"this.message\"\r\n         v-if=\"this.headerType === 'h5'\"\r\n    />\r\n    <h6 :style=\"this.style\"\r\n         v-html=\"this.message\"\r\n         v-if=\"this.headerType === 'h6'\"\r\n    />\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    name: 'AnyHeader',\r\n    mixins: [TopicComponent],\r\n    computed: {\r\n      headerType() {\r\n        return this.$props.options.headerType;\r\n      },\r\n      additionalTags() {\r\n        return this.$props.slots.additionalTags || [];\r\n      },\r\n      message() {\r\n        // if there is a transform, it needs this textWithTags section\r\n        let textWithTags = ''\r\n        for (let tag of this.additionalTags) {\r\n          textWithTags = textWithTags + '<' + tag + '>';\r\n        }\r\n        textWithTags = textWithTags + this.evaluateSlot(this.$props.slots.text, this.$props.slots.transforms);\r\n        for (let tag of this.additionalTags) {\r\n          textWithTags = textWithTags + '</' + tag + '>';\r\n        }\r\n        return textWithTags;\r\n      },\r\n      style() {\r\n        if (this.$props.options) {\r\n          return this.$props.options.style || '';\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"external-link\">\r\n    <a target=\"_blank\"\r\n       :href=\"externalLinkHref\"\r\n    >\r\n      {{ externalLinkText }}\r\n      <font-awesome-icon icon=\"external-link\" aria-hidden=\"true\" />\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    props: ['count', 'limit', 'type'],\r\n    computed: {\r\n      // for horizontal tables only\r\n      externalLinkCount() {\r\n        return this.count - this.limit;\r\n      },\r\n      // for horizontal or vertical tables\r\n      externalLinkAction() {\r\n        const actionFn = this.options.action;\r\n        if (actionFn) {\r\n          return actionFn(this.externalLinkCount) || 'See more at ';\r\n        }\r\n      },\r\n      // for anything else, for getting data from the state\r\n      externalLinkDataFromState() {\r\n        // return this.options.externalLink.action || 'See more at ';\r\n        const stateData = this.options.data;\r\n        return this.evaluateSlot(stateData);\r\n      },\r\n      externalLinkText() {\r\n        if (this.options) {\r\n          const name = this.options.name  || '';\r\n          // const preText = this.options.preText;\r\n          // const postText = this.options.postText;\r\n\r\n          if (this.type === 'vertical-table') {\r\n          // if (this.externalLinkAction) {\r\n            if (name) {\r\n              return `${this.externalLinkAction} at ${name}`;\r\n            } else {\r\n              return `${this.externalLinkAction}`;\r\n            }\r\n          } else if (this.type === 'horizontal-table') {\r\n            // if (name) {\r\n            //   return `${this.externalLinkAction} at ${name}`;\r\n            // } else {\r\n              return `${this.externalLinkAction}`;\r\n            // }\r\n          } else {\r\n            return `${this.externalLinkDataFromState}`\r\n          }\r\n        } else {\r\n          return null;\r\n        }\r\n      },\r\n      externalLinkHref() {\r\n        if (this.options) {\r\n          return this.evaluateSlot(this.options.href);\r\n        } else {\r\n          return null;\r\n        }\r\n      },\r\n      // the number of items that aren't being shown (e.g. See 54 more...)\r\n    }\r\n  };\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.external-link {\r\n  padding-top: 5px;\r\n}\r\n\r\n</style>\r\n","<template>\r\n  <!-- REVIEW this uses patterns -->\r\n  <div class=\"center\">\r\n    <div class=\"mb-badge panel\">\r\n      <div class=\"mb-badge-header\" :style=\"style\">\r\n        {{ evaluateSlot(slots.title) }}\r\n      </div>\r\n      <div class=\"mb-badge-body\">\r\n        <h1>{{ evaluateSlot(slots.value) }}</h1>\r\n        <strong>{{ evaluateSlot(slots.description) }}</strong>\r\n      </div>\r\n    </div>\r\n    <external-link v-if=\"options && options.externalLink\"\r\n                   :options=\"options.externalLink\"\r\n                   :type=\"'badge'\"\r\n    />\r\n    <!-- <div class=\"external-link\">\r\n      <a v-if=\"options && options.externalLink\"\r\n      :href=\"externalLinkHref\"\r\n      class=\"external external-link\"\r\n      target=\"_blank\"\r\n      >\r\n      {{ externalLinkText }}\r\n      </a>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  // console.log('in Badge.vue script');\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import ExternalLink from './ExternalLink.vue';\r\n\r\n  export default {\r\n    name: 'Badge',\r\n    mixins: [TopicComponent],\r\n    components: {\r\n      ExternalLink,\r\n    },\r\n    computed: {\r\n      style() {\r\n        const titleBackgroundValOrFn = (this.options || {}).titleBackground;\r\n        let titleBackground;\r\n\r\n        if (titleBackgroundValOrFn) {\r\n          if (typeof titleBackgroundValOrFn === 'function') {\r\n            titleBackground = titleBackgroundValOrFn(this.$store.state);\r\n          } else {\r\n            titleBackground = titleBackgroundValOrFn;\r\n          }\r\n        } else {\r\n          titleBackground = '#444';\r\n        }\r\n\r\n        return { background: titleBackground };\r\n      },\r\n      // externalLinkAction() {\r\n      //   return this.evaluateSlot(this.options.externalLink.action) || 'See more at ';\r\n      // },\r\n      // externalLinkText() {\r\n      //   const externalLinkConf = this.options.externalLink;\r\n      //   const actionFn = externalLinkConf.action;\r\n      //   const name = this.externalLinkAction || '';\r\n      //   return `${name}`;\r\n      // },\r\n      // externalLinkHref() {\r\n      //   return this.evaluateSlot(this.options.externalLink.href);\r\n      // },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .mb-badge {\r\n    /*width: 300px;*/\r\n    padding: 0;\r\n    margin: 0 auto;\r\n    margin-bottom: inherit;\r\n  }\r\n\r\n  @media (max-width: 640px) {\r\n    .mb-badge {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  /*REVIEW this should use foundation classes*/\r\n  @media (min-width: 640px) {\r\n    .mb-badge {\r\n      width: 325px;\r\n    }\r\n  }\r\n\r\n  .mb-badge-header {\r\n    color: #fff;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    padding-top: 2px;\r\n    padding-bottom: 2px;\r\n  }\r\n\r\n  .mb-badge-body {\r\n    padding: 12px;\r\n  }\r\n\r\n  .mb-badge-body > h1 {\r\n    margin: 0;\r\n    margin-bottom: 5px;\r\n  }\r\n</style>\r\n","<template>\r\n  <a href=\"#\"\r\n     :class=\"'button ' + this.class\"\r\n     :style=\"this.style\"\r\n     @click.prevent=\"evaluateSlot(slots.buttonAction)\"\r\n  >\r\n    {{ message }}\r\n  </a>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    computed: {\r\n      message() {\r\n        if (this.$props.slots) {\r\n          return this.evaluateSlot(this.$props.slots.text);\r\n        }\r\n      },\r\n      class() {\r\n        if (this.$props.options) {\r\n          return this.$props.options.class || '';\r\n        }\r\n      },\r\n      style() {\r\n        if (this.$props.options) {\r\n          return this.$props.options.style || '';\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","<template>\r\n  <div class='wrapper grid-y'>\r\n    <!-- <div class=\"callout columns small-24\"> -->\r\n    <div :class=\"'callout ' + this.calloutClass\">\r\n      <p v-if=\"this.message\"\r\n         v-html=\"this.message\"\r\n      />\r\n      <topic-component-group :topic-components=\"this.components\"\r\n                             v-if=\"this.components\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import TopicComponentGroup from './TopicComponentGroup.vue'\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    computed: {\r\n      calloutClass() {\r\n        if (this.$props.options) {\r\n          if (this.$props.options.class) {\r\n            return this.$props.options.class;\r\n          } else {\r\n            return 'columns small-24';\r\n          }\r\n        }\r\n      },\r\n      message() {\r\n        if (this.$props.slots) {\r\n          return this.evaluateSlot(this.$props.slots.text) || '';\r\n        } else {\r\n          return '';\r\n        }\r\n      },\r\n      components() {\r\n        if (this.$props.options) {\r\n          return this.$props.options.components || null;\r\n        } else {\r\n          return null;\r\n        }\r\n      },\r\n    },\r\n    components: {},\r\n    beforeCreate() {\r\n      this.$options.components.TopicComponentGroup = TopicComponentGroup;\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.wrapper {\r\n\r\n}\r\n\r\n.callout {\r\n  margin-top: 1rem;\r\n  position: inherit;\r\n  height: auto;\r\n}\r\n\r\n</style>\r\n","<!-- A natural-language summary of a collection of things. -->\r\n\r\n<template>\r\n  <h3>\r\n    {{ summary }}\r\n  </h3>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    computed: {\r\n      // the final stringified output\r\n      summary() {\r\n        // get value quantity map\r\n        const valueQuantities = this.valueQuantities;\r\n        // check if plural\r\n        const isPlural = this.isPlural(valueQuantities);\r\n        // get context renderer\r\n        const contextFnKey = 'context' + (isPlural ? 'Plural' : 'Singular');\r\n        const contextFn = this[contextFnKey];\r\n        // get a natural list\r\n        const naturalList = this.naturalList;\r\n        // summarize\r\n        const summary = contextFn(naturalList);\r\n\r\n        return summary;\r\n      },\r\n      contextSingular() {\r\n        const context = this.options.context;\r\n        return context.singular || context;\r\n      },\r\n      contextPlural() {\r\n        const context = this.options.context;\r\n        return context.plural || context;\r\n      },\r\n      descriptorSingular() {\r\n        const descriptor = this.options.descriptor;\r\n        return descriptor.singular || descriptor;\r\n      },\r\n      descriptorPlural() {\r\n        const descriptor = this.options.descriptor;\r\n        return descriptor.plural || descriptor + 's';\r\n      },\r\n      // serializes naturalized quantities into a list\r\n      // e.g. \"1 apple and 2 oranges\"\r\n      naturalList() {\r\n        const valueQuantities = this.valueQuantities;\r\n        const items = this.naturalizeQuantities(valueQuantities);\r\n        const len = items.length;\r\n        if (Array.isArray(items) && len > 0) {\r\n          if (len === 1) {\r\n            return items[0];\r\n          } else if (len === 2) {\r\n            return items.join(' and ');\r\n          }\r\n          const leadingItems = items.slice(0, items.length - 1).join(', ');\r\n          const lastItem = items[items.length - 1];\r\n          return `${leadingItems}, and ${lastItem}`;\r\n        }\r\n        // TODO should this text be an option?\r\n        return `no ${this.descriptorPlural}`;\r\n      },\r\n      valueQuantities() {\r\n        const items = this.slots.items(this.$store.state);\r\n        const getValue = this.options.getValue;\r\n\r\n        // make an object of value => quantity\r\n        const valueQuantities = items.reduce((obj, item) => {\r\n          const val = getValue(item);\r\n          obj[val] = obj[val] || 0;\r\n          obj[val]++;\r\n          return obj;\r\n        }, {});\r\n\r\n        return valueQuantities;\r\n      },\r\n    },\r\n    methods: {\r\n      // takes the value of the valueQuantities computed property and returns\r\n      // the appropriate grammatical number.\r\n      isPlural(valueQuantities = {}) {\r\n        const values = Object.keys(valueQuantities);\r\n        if (values.length === 1) {\r\n          const firstValue = values[0];\r\n          const quantity = valueQuantities[firstValue];\r\n          if (quantity === 1) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      },\r\n      // takes the value quantity map and converts values to natural language\r\n      // quantities (e.g. {apple: 2} => \"2 apples\")\r\n      naturalizeQuantities(valueQuantities = {}) {\r\n        // get some options\r\n        const types = this.options.types;\r\n        const includeZeroes = this.options.includeZeroes;\r\n\r\n        // convert to natural language and sort per order of types option\r\n        const quantities = types.reduce((acc, type) => {\r\n          const value = type.value;\r\n          let quantity = valueQuantities[value] || 0;\r\n\r\n          if (quantity === 0) {\r\n            if (!includeZeroes) {\r\n              return acc;\r\n            }\r\n            // natural zero => \"no\"\r\n            quantity = 'no';\r\n          }\r\n\r\n          const labelSingular = type.label;\r\n          let labelWithNumber;\r\n\r\n          // singular\r\n          if (quantity !== 1) {\r\n            const labelPlural = type.plural || labelSingular + 's';\r\n            labelWithNumber = labelPlural;\r\n          // plural\r\n          } else {\r\n            labelWithNumber = labelSingular;\r\n          }\r\n\r\n          // make label and push\r\n          const quantityWithLabel = `${quantity} ${labelWithNumber}`;\r\n          acc.push(quantityWithLabel);\r\n\r\n          return acc;\r\n        }, []);\r\n\r\n        return quantities;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","<template>\r\n  <div :class=\"this.class\"\r\n       :style=\"this.style\"\r\n       v-show=\"this.vshowComputed\"\r\n  >\r\n    <topic-component-group :topic-components=\"this.$props.options.components\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import TopicComponentGroup from './TopicComponentGroup.vue'\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    computed: {\r\n      message() {\r\n        return this.evaluateSlot(this.$props.slots.text)\r\n      },\r\n      class() {\r\n        return this.$props.options.class || '';\r\n      },\r\n      style() {\r\n        return this.$props.options.style || '';\r\n      },\r\n      vshowComputed() {\r\n        if (this.$props.slots) {\r\n          if (this.evaluateSlot(this.$props.slots.vshowProp) === false) {\r\n            // console.log('returning vshowProp:', this.evaluateSlot(this.$props.slots.vshowProp));\r\n            return false;\r\n          } else {\r\n            // console.log('returning true, vshowProp:', this.evaluateSlot(this.$props.slots.vshowProp));\r\n            return true;\r\n          }\r\n        } else {\r\n          // console.log('returning true, no props');\r\n          return true;\r\n        }\r\n      }\r\n    },\r\n    components: {},\r\n    beforeCreate() {\r\n      this.$options.components.TopicComponentGroup = TopicComponentGroup;\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n</style>\r\n","import { format } from 'date-fns';\r\nimport escapeHtml from 'escape-html';\r\n\r\n/*\r\n  this is a helper fn that accepts a data object containing the following:\r\n\r\n    - accountNum <String>\r\n    - amountDue <Number>\r\n    - owner <String>\r\n    - address <Object>\r\n      - streetAddress <String>\r\n      - city <String>\r\n      - state <String>\r\n      - postalCode <String>\r\n      - country <String>\r\n\r\n  and returns a serialized xml object which the epay gateway can accept for\r\n  initiating a purchase.\r\n\r\n  REVIEW does this need to handle credits?\r\n*/\r\n\r\nexport default function (data) {\r\n  console.log('generate billing xml', data);\r\n\r\n  // if data object is empty, return empty string\r\n  if (Object.keys(data).length < 1) {\r\n    return '';\r\n  }\r\n\r\n  // get the current date/time in iso format with timezone\r\n  let timestamp = format(new Date(), 'YYYY-MM-DDTHH:mm:ssZ');\r\n\r\n  // TODO use a json to xml lib instead of forming this string?\r\n  const xmlString = `<?xml version=\"1.0\" encoding=\"utf-16\"?>\r\n<BillingStatement xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\r\n  <ApplicationID>fcd68fd2-e923-4b03-a0e7-a678c2ed612a</ApplicationID>\r\n  <AccountNumber />\r\n  <BillNumber>${data.balances.accountNum}</BillNumber>\r\n  <StatementNumber />\r\n  <BillingDate>${timestamp}</BillingDate>\r\n  <DueDate>${timestamp}</DueDate>\r\n  <TotalDue>${data.totalDue}</TotalDue>\r\n  <DepartMentId>0</DepartMentId>\r\n  <Fund>0</Fund>\r\n  <PaymentDate>0001-01-01T00:00:00</PaymentDate>\r\n  <Quantity>0</Quantity>\r\n  <ItemAmount>0</ItemAmount>\r\n  <TotalAmountdue>0</TotalAmountdue>\r\n  <PartialPaymentFlag>false</PartialPaymentFlag>\r\n  <ReceiptpresentFlag>false</ReceiptpresentFlag>\r\n  <Details>\r\n    <BillingStatementDetail>\r\n      <ItemDate>${timestamp}</ItemDate>\r\n      <ItemDescription>Real Estate Tax</ItemDescription>\r\n      <Charges>${data.totalDue}</Charges>\r\n      <Credits>0</Credits>\r\n    </BillingStatementDetail>\r\n  </Details>\r\n  <Customers>\r\n    <Customer>\r\n      <FirstName>${data.balances.property.ownerName}</FirstName>\r\n      <MiddleName />\r\n      <LastName />\r\n      <BillingAddress>\r\n        <Address>\r\n          <AddressLine1>${data.address.streetAddress}</AddressLine1>\r\n          <City>PHILADELPHIA</City>\r\n          <State>PA</State>\r\n          <PostalCode>${data.address.zipCode}</PostalCode>\r\n          <Country>US</Country>\r\n        </Address>\r\n      </BillingAddress>\r\n    </Customer>\r\n  </Customers>\r\n</BillingStatement>\r\n  `;\r\n\r\n  return escapeHtml(xmlString);\r\n};\r\n","<template>\r\n  <!-- <form action=\"https://test-secure.phila.gov/PaymentCenter/Gateway1/InitiatePurchase.aspx\" -->\r\n  <form :action=\"actionAddress\"\r\n        method=\"post\"\r\n        target=\"_blank\"\r\n  >\r\n  <input name=\"billStmt\"\r\n         type=\"hidden\"\r\n         :value=\"xmlData\"\r\n  >\r\n  <input type=\"submit\"\r\n         class=\"button external\"\r\n         :value=\"this.$props.slots.text\"\r\n         v-show=\"this.shouldShowButton\"\r\n         :style=\"buttonStyle\"\r\n  >\r\n  </form>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import generateBillingXml from '../util/generate-billing-xml';\r\n\r\n  const BALANCE_PARTS = [\r\n    'principal',\r\n    'interest',\r\n    'penalty',\r\n    'other',\r\n  ];\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    data() {\r\n      const data = {\r\n        parseData: {\r\n          'accountNum': this.$store.state.sources.tips.data.data.accountNum,\r\n          'totalDue': '',\r\n          'balances': this.$store.state.sources.tips.data.data,\r\n          'address': {\r\n            'streetAddress':  this.$store.state.sources.tips.data.data.property.address,\r\n            'zipCode': this.$store.state.geocode.data.properties.zip_code,\r\n          }\r\n        },\r\n        xmlData: {},\r\n        buttonStyle: 'height: ' + this.$props.options.height + 'px;\\\r\n         width: ' + this.$props.options.width + 'px;\\\r\n         font-size: ' + this.$props.options.fontSize + 'px;\\\r\n         ',\r\n        actionAddress: this.$props.options.actionAddress || 'https://test-secure.phila.gov/PaymentCenter/Gateway1/InitiatePurchase.aspx'\r\n      }\r\n      return data;\r\n    },\r\n    created() {\r\n      this.parseData.totalDue = this.calculateTotalDue();\r\n      this.$store.commit('setPropertyBalance', this.parseData.totalDue);\r\n      this.xmlData = generateBillingXml(this.parseData);\r\n    },\r\n    computed: {\r\n      message() {\r\n        if (this.$props.slots) {\r\n          return this.evaluateSlot(this.$props.slots.text);\r\n        }\r\n      },\r\n      class() {\r\n        if (this.$props.options) {\r\n          return this.$props.options.class || '';\r\n        }\r\n      },\r\n      style() {\r\n        if (this.$props.options) {\r\n          return this.$props.options.style || '';\r\n        }\r\n      },\r\n      shouldShowButton() {\r\n        if (this.parseData.totalDue > 0) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n    },\r\n    methods: {\r\n      calculateTotalDue() {\r\n        return this.parseData.balances.years.reduce((acc, year) => {\r\n          const yearTotal = this.calculateTotalForYear(year);\r\n          return acc + yearTotal;\r\n        }, 0);\r\n      },\r\n      calculateTotalForYear(year) {\r\n        const amounts = BALANCE_PARTS.map(part => year[part]);\r\n        return amounts.reduce((acc, amount) => acc + amount, 0);\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","<template>\r\n  <div>\r\n    {{ evaluateFieldLabel() }}\r\n    <a class=\"popover-link\"\r\n      @click=\"didClickPopoverLink\"\r\n      :title=\"value + ' ' + popoverValue\"\r\n    >\r\n      {{ value }}\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    props: ['fieldLabel'],\r\n    data() {\r\n      const data = {\r\n        showFieldLabel: false\r\n      };\r\n      return data;\r\n    },\r\n    created() {\r\n      window.addEventListener('resize', this.handleWindowResize);\r\n      this.handleWindowResize();\r\n    },\r\n    computed: {\r\n      value() {\r\n        const value = this.$props.slots.value;\r\n        const transforms = this.$props.slots.transforms || [];\r\n        const nullValue = this.$props.slots.nullValue || '';\r\n        return this.evaluateSlot(value, transforms, nullValue);\r\n      },\r\n      popoverValue() {\r\n        const value = this.value;\r\n        const popoverTransforms = this.$props.slots.popoverTransforms || [];\r\n        const popoverNullValue = this.$props.slots.popoverNullValue || '';\r\n        return this.evaluateSlot(value, popoverTransforms, popoverNullValue);\r\n      },\r\n      popoverPreText() {\r\n        let popoverPreText = this.$props.slots.popoverPreText || '';\r\n        return this.evaluateSlot(popoverPreText);\r\n      },\r\n      popoverPostText() {\r\n        let popoverPostText = this.$props.slots.popoverPostText || '';\r\n        return this.evaluateSlot(popoverPostText);\r\n      },\r\n      shouldShowValue() {\r\n        if (this.$props.slots.shouldShowValue === false) {\r\n          return false\r\n        } else {\r\n          return true;\r\n        }\r\n      },\r\n      popoverText() {\r\n        if (this.shouldShowValue === true) {\r\n          return this.popoverPreText + ' ' + this.popoverValue + ' ' + this.popoverPostText;\r\n        } else {\r\n          return this.popoverPreText + ' ' + this.popoverPostText;\r\n        }\r\n      },\r\n    },\r\n    methods: {\r\n      didClickPopoverLink(e) {\r\n        this.$store.commit('setPopoverOpen', true);\r\n        this.$store.commit('setPopoverText', this.popoverText);\r\n      },\r\n      handleWindowResize() {\r\n        if (window.innerWidth >= 750) {\r\n          this.showFieldLabel = false;\r\n        } else {\r\n          this.showFieldLabel = true;\r\n        }\r\n      },\r\n      evaluateFieldLabel() {\r\n        if (this.showFieldLabel) {\r\n          return this.$props.fieldLabel + ': ';\r\n        } else {\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .popover-link {\r\n    border-bottom: 1px dotted;\r\n    font-weight: bold;\r\n    /* color: #444; */\r\n    color: #2176d2;\r\n  }\r\n</style>\r\n","<template>\r\n  <tr :class=\"{ active: this.isActive }\"\r\n      @mouseover=\"handleRowMouseover\"\r\n      @click=\"handleRowClick\"\r\n      @mouseout=\"handleRowMouseout\"\r\n  >\r\n    <td v-for=\"field in fields\"\r\n        :item='item'\r\n    >\r\n      <b v-show=\"shouldBeBold\">\r\n        <popover-link v-if=\"field.popoverLink\"\r\n                      :slots='field'\r\n                      :item='item'\r\n                      :fieldLabel=\"field.label\"\r\n        />\r\n        <div v-if=\"!field.popoverLink\"\r\n             v-html=\"evaluateFieldLabel(field.label) + evaluateSlot(field.value, field.transforms, field.nullValue)\"\r\n        />\r\n      </b>\r\n\r\n      <!-- Total Row -->\r\n      <div v-show=\"!shouldBeBold\">\r\n        <popover-link v-if=\"field.popoverLink\"\r\n                      :slots='field'\r\n                      :item='item'\r\n                      :fieldLabel=\"field.label\"\r\n        />\r\n        <div v-if=\"!field.popoverLink\"\r\n             v-html=\"evaluateFieldLabel(field.label) + evaluateSlot(field.value, field.transforms, field.nullValue)\"\r\n        />\r\n      </div>\r\n\r\n    </td>\r\n  </tr>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import PopoverLink from './PopoverLink.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    components: {\r\n      PopoverLink,\r\n    },\r\n    props: ['fields', 'hasOverlay', 'tableId', 'shouldBeBold', 'totalRowField'],\r\n    data() {\r\n      const data = {\r\n        showFieldLabel: false\r\n      };\r\n      return data;\r\n    },\r\n    created() {\r\n      window.addEventListener('resize', this.handleWindowResize);\r\n      this.handleWindowResize();\r\n    },\r\n    computed: {\r\n      activeFeature() {\r\n        return this.$store.state.activeFeature;\r\n      },\r\n      isActive() {\r\n        if (this.activeFeature) {\r\n          return this.activeFeature.featureId === this.$props.item._featureId && this.$props.tableId === this.activeFeature.tableId;\r\n        } else {\r\n          return;\r\n        }\r\n      },\r\n      isMobileOrTablet() {\r\n        return this.$store.state.isMobileOrTablet;\r\n      },\r\n    },\r\n    watch: {\r\n      isActive(value) {\r\n        if (value === true) {\r\n          const el = this.$el;\r\n          const visible = this.isElementInViewport(el);\r\n          // console.log('horizontaltablerow WATCH isActive is firing, el:', el, 'visible:', visible);\r\n\r\n          // console.log('visible?', visible ? 'YES' : 'NO');\r\n\r\n          if (!visible) {\r\n            el.scrollIntoView();\r\n          }\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      handleRowMouseover(e) {\r\n        // console.log('handleRowMouseover is starting');\r\n        if(!this.isMobileOrTablet && !this.$props.options.mouseOverDisabled) {\r\n          // console.log('handleRowMouseover actions are running');\r\n          if (!this.hasOverlay) return;\r\n\r\n          const featureId = this.item._featureId;\r\n          const tableId = this.tableId;\r\n          this.$store.commit('setActiveFeature', { featureId, tableId });\r\n        }\r\n      },\r\n      handleRowClick(e) {\r\n        // console.log('handleRowClick is starting');\r\n        if(this.$store.state.activeModal && this.$props.options.clickEnabled ) {\r\n          if (!this.hasOverlay) return;\r\n          const featureId = this.item._featureId;\r\n          this.$store.commit('setActiveModal', { featureId });\r\n        }\r\n      },\r\n      handleRowMouseout(e) {\r\n        if(!this.isMobileOrTablet) {\r\n          // console.log('handleRowMouseout actions are running');\r\n          if(!this.$props.options.mouseOverDisabled && this.$store.state.activeModal.featureId === null) {\r\n            if (!this.hasOverlay) return;\r\n            this.$store.commit('setActiveFeature', null);\r\n          }\r\n        }\r\n      },\r\n      // REVIEW there's very similar code in the controller. if these can be\r\n      // the same thing, make it into a util.\r\n      isElementInViewport(el) {\r\n        const rect = el.getBoundingClientRect();\r\n\r\n        // console.log('bounding box', rect);\r\n\r\n        const visibility = {\r\n          // TODO the 108 below is account for the combined height of the\r\n          // app header and address header. this is not a good long-term\r\n          // solution - instead, use the `bottom` value of the address header's\r\n          // bounding rect. however, this should only fire on small devices,\r\n          // which would require again hard-coding screen breakpoints from\r\n          // standards or some other magic, which might not a huge\r\n          // improvement in terms of decoupling logic and presentation. hmm.\r\n          top: rect.top >= 108,\r\n          left: rect.left >= 0,\r\n          bottom: rect.bottom <= (window.innerHeight || document.documentElement.clientHeight),\r\n          right: rect.right <= (window.innerWidth || document.documentElement.clientWidth),\r\n        };\r\n\r\n        // console.log('visibility', visibility);\r\n\r\n        // return if all sides are visible\r\n        return Object.values(visibility).every(val => val);\r\n      },\r\n      featuresMatch(a, b) {\r\n        return a.featureId === b.featureId && a.tableId === b.tableId;\r\n      },\r\n      handleWindowResize() {\r\n        if (window.innerWidth >= 750) {\r\n          this.showFieldLabel = false;\r\n        } else {\r\n          this.showFieldLabel = true;\r\n        }\r\n      },\r\n      evaluateFieldLabel(label) {\r\n        // console.log('evaluateFieldLabel, label:', label);\r\n        if (this.showFieldLabel && this.$props.totalRowField !== label.toLowerCase()) {\r\n          return label + ': ';\r\n        } else {\r\n          return '';\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .active {\r\n    background: #F3D661;\r\n  }\r\n\r\n  td {\r\n    font-size: 15px;\r\n    text-align: left;\r\n  }\r\n</style>\r\n","<template>\r\n  <div class=\"pvc-horizontal-table\">\r\n    <!-- <button v-if=\"shouldShowButton\"\r\n    >\r\n      Text\r\n    </button> -->\r\n    <div v-if=\"shouldShowTable\">\r\n      <!-- controls -->\r\n      <div class=\"pvc-horizontal-table-controls\"\r\n           v-if=\"shouldShowFilters !== false\"\r\n      >\r\n        <div v-if=\"!!options.filters\"\r\n             class=\"vertically-centered\"\r\n        >\r\n          <!-- TODO the ids for filter spans should incorporate some sort of topic comp\r\n          to make them globally unique -->\r\n          <div v-for=\"(filter, index) in filters\"\r\n                :id=\"'filter-' + index\"\r\n                class=\"inline-block\"\r\n          >\r\n            <div class=\"vertically-centered pvc-select-text\">{{ filter.label }}</div>\r\n            <select @change=\"handleFilterValueChange\"\r\n                    class=\"pvc-select\"\r\n            >\r\n              <optgroup>\r\n                <option v-for=\"filterValue in filter.values\"\r\n                        :value=\"slugifyFilterValue(filterValue)\"\r\n                        class=\"pvc-select-option\"\r\n                >\r\n                  {{ filterValue.label }}\r\n                </option>\r\n              </optgroup>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- <div v-if=\"!!this.$props.options.sort && !!this.$props.options.sort.select\" -->\r\n        <div v-if=\"!!options.sort && !!options.sort.select\"\r\n             class=\"vertically-centered\"\r\n        >\r\n          <div class=\"vertically-centered pvc-select-text\">Sort by</div>\r\n          <select @change=\"handleSortValueChange\"\r\n                  class=\"pvc-select\"\r\n          >\r\n            <optgroup>\r\n              <option v-for=\"sortField in sortFields\"\r\n                      :value=\"sortField\"\r\n                      class=\"pvc-select-option\"\r\n              >\r\n                {{ sortField }}\r\n              </option>\r\n            </optgroup>\r\n          </select>\r\n\r\n        </div>\r\n\r\n        <div v-if=\"filterByTextFields\"\r\n             class=\"vertically-centered\"\r\n        >\r\n          <div class=\"pvc-select-text inline-block\">\r\n            {{ options.filterByText.label }}\r\n          </div>\r\n          <form @submit.prevent=\"handleFilterFormX\"\r\n                class=\"inline-block filter-by-text-form\"\r\n          >\r\n            <input :class=\"this.inputClass\"\r\n                   id=\"theInput\"\r\n                   @keyup=\"handleFilterFormKeyup\"\r\n            />\r\n            <button class=\"pvc-search-control-button\"\r\n                    v-if=\"this.searchText != ''\"\r\n            >\r\n              <font-awesome-icon icon=\"times\" class=\"fa-lg\" />\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div> <!-- end of pvc-horizontal-table-controls block -->\r\n\r\n      <div :class=\"{ 'pvc-horizontal-table-body': true, 'no-padding': !shouldShowFilters }\">\r\n        <a class=\"button pvc-download-data-button\"\r\n            v-if=\"this.shouldShowDownloadButton\r\n                    && this.$store.state.fullScreenTopicsEnabled !== true\r\n                    && this.$store.state.fullScreenMapEnabled !== true\"\r\n            @click=\"this.exportTableToCSV\"\r\n        >\r\n          Download Data\r\n        </a>\r\n        <a class=\"button pvc-export-data-button csv\"\r\n           v-if=\"this.shouldShowExportCSV\"\r\n           @click=\"this.exportTableToCSV\"\r\n        >\r\n          {{ this.options.export.formatButtons.csv }}\r\n        </a>\r\n        <a class=\"button pvc-export-data-button pdf\"\r\n           v-if=\"this.shouldShowExportPDF\"\r\n           @click=\"this.exportTableToPDF\"\r\n        >\r\n          {{ this.options.export.formatButtons.pdf }}\r\n        </a>\r\n        <a class=\"button pvc-export-data-button mailing\"\r\n           v-if=\"this.shouldShowExportMailing\"\r\n           @click=\"this.exportTableToMailing\"\r\n        >\r\n          {{ this.options.export.formatButtons.mailing }}\r\n        </a>\r\n        <div v-if=\"slots.title\">\r\n          <h4 style=\"display:inline-block\">\r\n            {{ evaluateSlot(slots.title) }} {{ countText }}\r\n          </h4>\r\n          <h5 style=\"display:inline-block; color: gray\">\r\n            {{ evaluateSlot(slots.subtitle) }}\r\n          </h5>\r\n        </div>\r\n\r\n        <table role=\"grid\" class=\"stack\">\r\n          <thead v-if=\"shouldShowHeaders !== false\">\r\n            <tr>\r\n              <th v-for=\"field in fields\">{{ evaluateSlot(field.label) }}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <horizontal-table-row v-for=\"item in itemsLimited\"\r\n                                  :item=\"item\"\r\n                                  :fields=\"fields\"\r\n                                  :key=\"item._featureId\"\r\n                                  :hasOverlay=\"hasOverlay\"\r\n                                  :tableId=\"options.tableId\"\r\n                                  :options=\"options\"\r\n            />\r\n            <horizontal-table-row v-if=\"totalRowEnabled\"\r\n                                  :shouldBeBold=\"true\"\r\n                                  :item=\"this.itemsLimitedSummed\"\r\n                                  :fields=\"fields\"\r\n                                  :tableId=\"options.tableId\"\r\n                                  :totalRowField=\"this.totalRowField\"\r\n\r\n            />\r\n          </tbody>\r\n        </table>\r\n\r\n        <!-- external link (aka \"see more\")-->\r\n        <external-link v-if=\"options.externalLink && shouldShowExternalLink\"\r\n                       :options=\"options.externalLink\"\r\n                       :count=\"this.count\"\r\n                       :limit=\"this.limit\"\r\n                       :type=\"'horizontal-table'\"\r\n        />\r\n        <!-- <div class=\"external-link\"\r\n             v-if=\"options.externalLink && shouldShowExternalLink\"\r\n        >\r\n          <a :href=\"externalLinkHref\"\r\n             target=\"_blank\"\r\n          >\r\n            {{ externalLinkText }}\r\n            <font-awesome-icon icon=\"external-link\" aria-hidden=\"true\" />\r\n          </a>\r\n        </div> -->\r\n      </div>\r\n\r\n      <a class=\"button center-button\"\r\n         @click=\"this.showMoreRecords\"\r\n         v-if=\"this.shouldShowRetrieveButton\"\r\n      >\r\n        Retrieve {{ this.nextIncrement }} More {{ this.nextIncrement === 1? 'Record' : 'Records' }}\r\n        <span v-show=\"secondaryStatus === 'waiting'\" class=\"loading\">\r\n          <font-awesome-icon icon=\"spinner\" class=\"fa-lg\" />\r\n        </span>\r\n      </a>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import HorizontalTableRow from './HorizontalTableRow.vue';\r\n  import ExternalLink from './ExternalLink.vue';\r\n  import { format, subHours, addHours, subDays, addDays, subWeeks, addWeeks, subMonths, addMonths, subYears, addYears, isWithinRange } from 'date-fns';\r\n\r\n\r\n  import jsPDF from 'jspdf';\r\n  import autotable from 'jspdf-autotable';\r\n  import chunk from 'lodash.chunk';\r\n\r\n  const DEFAULT_SORT_FIELDS = [\r\n    'distance',\r\n    'date',\r\n  ];\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    data() {\r\n      const filters = this.options.filters || [];\r\n      const filtersKeys = Object.keys(filters);\r\n      // console.log('in horiz table data, filters:', filters, 'filtersKeys:', filtersKeys);\r\n      // const defaultFilterSelections = Object.keys(filters).reduce((acc, i) =>\r\n      //                                 {\r\n      //                                   const key = `filter-${i}`;\r\n      //                                   console.log('in reduce, i:', i, 'acc:', acc, 'key:', key, 'acc[key]:', acc[key]);\r\n      //                                   acc[key] = {};\r\n      //                                   return acc;\r\n      //                                 }, {});\r\n      let defaultFilterSelections = {}\r\n      for (let index=0; index < filters.length; index++) {\r\n        defaultFilterSelections['filter-' + index] = filters[index].values[0];\r\n      }\r\n      // console.log('in horiz table data, filters:', filters, 'filtersKeys:', filtersKeys, 'defaultFilterSelections:', defaultFilterSelections);\r\n      let sortFields;\r\n      if (this.options.sort){\r\n        sortFields = this.options.sort.sortFields || [];\r\n      }\r\n      let sortField;\r\n      if (sortFields) {\r\n        sortField = sortFields[0]\r\n      } else {\r\n        sortField = DEFAULT_SORT_FIELDS[0]\r\n      }\r\n      const highestRowRetrieved = this.options.defaultIncrement;\r\n\r\n      const initialData = {\r\n        filterSelections: defaultFilterSelections,\r\n        searchText: '',\r\n        sortField,\r\n        highestRowRetrieved\r\n      };\r\n\r\n      return initialData;\r\n    },\r\n    components: {\r\n      HorizontalTableRow,\r\n      ExternalLink,\r\n    },\r\n    // beforeCreate() {\r\n    //   console.log('horizTable before create, this.$config:', this.$config, 'this.$store.state:', this.$store.state);\r\n    // },\r\n    created() {\r\n      // console.log('horiz table created props slots items', this.$props.slots.items);\r\n      if (this.filters) {\r\n        for (let [index, filter] of this.filters.entries()) {\r\n          const key = `filter-${index}`;\r\n          const defaultValue = filter.values[0] || {};\r\n          this.filterSelections[key] = defaultValue;\r\n        }\r\n      }\r\n\r\n      // put row data in state once on load\r\n      // const data = this.itemsAfterSearch;\r\n      // const tableId = this.options.tableId;\r\n\r\n      // this.$store.commit('setHorizontalTableFilteredData', {\r\n      //   tableId,\r\n      //   data\r\n      // });\r\n    },\r\n    mounted() {\r\n      // console.log('horiz table mounted props slots items', this.$props.slots.items);\r\n      if (this.$store.state.horizontalTables) {\r\n        this.updateTableFilteredData();\r\n      }\r\n    },\r\n    watch: {\r\n      itemsAfterFilters(nextItems) {\r\n        // console.log('WATCH items after filters', nextItems);\r\n        // this.$nextTick(() => {\r\n        if (this.$store.state.horizontalTables) {\r\n          this.updateTableFilteredData();\r\n        }\r\n        // })\r\n      }\r\n    },\r\n    computed: {\r\n      totalRowEnabled() {\r\n        if (this.$props.options.totalRow) {\r\n          return this.$props.options.totalRow.enabled || false;\r\n        }\r\n      },\r\n      totalRowField() {\r\n        if (this.$props.options.totalRow) {\r\n          return this.$props.options.totalRow.totalField || '';\r\n        }\r\n      },\r\n      hasData() {\r\n        // console.log('horizTable hasData is running, this.$config:', this.$config, 'this.$store.state:', this.$store.state);\r\n        if (!this.$props.options.dataSources) {\r\n          return true;\r\n        } else {\r\n          const hasData = this.$props.options.dataSources.every(dataSource => {\r\n            // const targetsFn = this.$config.dataSources[dataSource].targets;\r\n            const targetsFn = this.$store.state.sources[dataSource].targets;\r\n            const maybeEmpty = this.isEmpty(targetsFn);\r\n            // if the data source is configured for targets\r\n            if (!this.isEmpty(targetsFn)) {\r\n              const targetsMap = this.$store.state.sources[dataSource].targets;\r\n              const targets = Object.values(targetsMap);\r\n\r\n              // but there are no targets for this address, return false\r\n              if (targets.length === 0) {\r\n                return false;\r\n              }\r\n\r\n              // if there are targets for this address, make sure none of them\r\n              // are \"waiting\"\r\n              return targets.every(target => target.status !== 'waiting');\r\n\r\n              // if the data source is not configured for targets, just check that\r\n              // it has data\r\n            } else {\r\n              return !!this.$store.state.sources[dataSource].data;\r\n            }\r\n          });\r\n\r\n          return hasData;\r\n        }\r\n      },\r\n      shouldShowFilters() {\r\n        if (typeof this.options.shouldShowFilters === 'undefined') {\r\n          return true;\r\n        } else {\r\n          return this.options.shouldShowFilters;\r\n        }\r\n      },\r\n      shouldShowHeaders() {\r\n        if (typeof this.options.shouldShowHeaders === 'undefined') {\r\n          return true;\r\n        } else {\r\n          return this.options.shouldShowHeaders;\r\n        }\r\n      },\r\n      shouldShowExportMailing() {\r\n        let shouldExport = false;\r\n        if (this.options.export) {\r\n          if (this.options.export.formatButtons) {\r\n            const keys = Object.keys(this.options.export.formatButtons);\r\n            shouldExport = keys.includes('mailing');\r\n          }\r\n        }\r\n        return shouldExport;\r\n      },\r\n      shouldShowExportPDF() {\r\n        let shouldExport = false;\r\n        if (this.options.export) {\r\n          if (this.options.export.formatButtons) {\r\n            const keys = Object.keys(this.options.export.formatButtons);\r\n            shouldExport = keys.includes('pdf');\r\n          }\r\n        }\r\n        return shouldExport;\r\n      },\r\n      shouldShowExportCSV() {\r\n        let shouldExport = false;\r\n        if (this.options.export) {\r\n          if (this.options.export.formatButtons) {\r\n            const keys = Object.keys(this.options.export.formatButtons);\r\n            shouldExport = keys.includes('csv');\r\n          }\r\n        }\r\n        return shouldExport;\r\n      },\r\n      secondaryStatus() {\r\n        return this.$store.state.sources[this.options.id].secondaryStatus;\r\n      },\r\n      shouldShowTable() {\r\n        let result = true;\r\n\r\n        // if the table is in a tab group or table group, it will have an \"item\" in props\r\n        // if (this.item) {\r\n        //   // if it is in a table group, the item will contain an \"activeTable\" for the group\r\n        //   if (this.item.activeTable) {\r\n        //     const id = this.options.id;\r\n        //     if (this.item.activeTable != id) {\r\n        //       result = false\r\n        //     }\r\n        //   }\r\n        // }\r\n        // if there is no data, and the table should not show at all if it is empty\r\n        if (this.$props.options.showOnlyIfData && this.items.length === 0) {\r\n          result = false;\r\n        }\r\n\r\n        return result;\r\n      },\r\n      shouldShowRetrieveButton() {\r\n        return this.highestRowRetrieved < this.count;\r\n      },\r\n      leftToRetrieve() {\r\n        return this.count - this.highestRowRetrieved;\r\n      },\r\n      nextIncrement() {\r\n        if (!this.options.showAllRowsOnFirstClick) {\r\n          if (this.leftToRetrieve < this.options.defaultIncrement) {\r\n            return this.leftToRetrieve;\r\n          } else {\r\n            return this.options.defaultIncrement;\r\n          }\r\n        } else {\r\n          return this.leftToRetrieve;\r\n        }\r\n      },\r\n      highestPageRetrieved() {\r\n        return this.evaluateSlot(this.slots.highestPageRetrieved);\r\n      },\r\n      pageCount() {\r\n        return this.evaluateSlot(this.slots.pageCount);\r\n      },\r\n      totalSize() {\r\n        return this.evaluateSlot(this.slots.totalSize);\r\n      },\r\n      limit() {\r\n        return this.options.limit;\r\n      },\r\n      // REVIEW what does this do? can this be simplified?\r\n      inputClass() {\r\n        if (this.searchText === '') {\r\n          return 'pvc-search-control-input';\r\n        } else {\r\n          return 'pvc-search-control-input-full';\r\n        }\r\n      },\r\n      filters() {\r\n        return this.options.filters;\r\n      },\r\n      activeFilters() {\r\n        //TODO make this work with not-always-on filters\r\n        return this.filters;\r\n      },\r\n      fields() {\r\n        return this.options.fields;\r\n      },\r\n      hasOverlay() {\r\n        return !!this.options.mapOverlay;\r\n      },\r\n      items() {\r\n        if (this.hasData) {\r\n          const itemsSlot = this.slots.items;\r\n          const items = this.evaluateSlot(itemsSlot) || [];\r\n          // console.log('horiz table items', items);\r\n          return items\r\n        } else {\r\n          return [];\r\n        }\r\n      },\r\n      filterByTextFields() {\r\n        if (this.options.filterByText) {\r\n          return this.options.filterByText.fields;\r\n        } else {\r\n          return null;\r\n        }\r\n      },\r\n      itemsAfterSearch() {\r\n        // console.log('itemsAfterSearch is running');\r\n        const items = this.items;\r\n        const searchText = this.searchText;\r\n\r\n        if (!searchText) {\r\n          return items;\r\n        }\r\n\r\n        const searchTextLower = searchText.toLowerCase();\r\n\r\n        // get full set of items\r\n\r\n        // if text search is not enabled, return all items\r\n        const searchFields = this.filterByTextFields || [];\r\n        if (searchFields.length === 0) {\r\n          return items;\r\n        }\r\n\r\n        // get items that contain the search text in one of their filter fields\r\n        const matchingItems = items.filter(item => {\r\n          const searchVals = searchFields.map(filterField => {\r\n            const props = item.properties;\r\n            const searchVal = props ? props[filterField] : item[filterField];\r\n            // console.log('props', props, 'searchVal', searchVal);\r\n            return searchVal.toLowerCase();\r\n          });\r\n\r\n          let boolean = false;\r\n          for (let searchVal of searchVals) {\r\n            // console.log('searchVal', searchVal, 'searchTextLower', searchTextLower);\r\n            if (searchVal.includes(searchTextLower)) {\r\n              boolean = true;\r\n            }\r\n          }\r\n          return boolean;\r\n        })\r\n\r\n        return matchingItems;\r\n      },\r\n      // this takes itemsAfterSearch and applies selected filters\r\n      itemsAfterFilters() {\r\n        // console.log('itemsAfterFilters is running, this.filters:', this.filters, 'this.filterSelections:', this.filterSelections);\r\n        if (!this.itemsAfterSearch) {\r\n          return [];\r\n        } else {\r\n          const itemsAfterSearch = this.itemsAfterSearch;\r\n          const items = this.filterItems(itemsAfterSearch,\r\n            this.filters,\r\n            this.filterSelections);\r\n            // console.log('horiz table itemsAfterFilters', items);\r\n            return items;\r\n        }\r\n      },\r\n      itemsAfterSort() {\r\n        const itemsAfterFilters = this.itemsAfterFilters;\r\n        const sortOpts = this.options.sort;\r\n        return this.sortItems(itemsAfterFilters, sortOpts);\r\n      },\r\n      sortFields() {\r\n        if (this.options.sort.sortFields) {\r\n          return this.options.sort.sortFields;\r\n        } else {\r\n          return DEFAULT_SORT_FIELDS;\r\n        }\r\n      },\r\n      // this takes filtered items and applies the max number of rows\r\n      itemsLimited() {\r\n        // console.log('items limited', this.itemsAfterSort.slice(0, this.limit));\r\n        if (this.options.limit) {\r\n          return this.itemsAfterSort.slice(0, this.options.limit);\r\n        } else if (this.options.defaultIncrement) {\r\n          return this.itemsAfterSort.slice(0, this.highestRowRetrieved);\r\n        } else {\r\n          return this.itemsAfterSort;\r\n        }\r\n      },\r\n      itemsLimitedSummed() {\r\n        let summed = {};\r\n        for (let key of Object.keys(this.itemsLimited[0])) {\r\n          if (typeof this.itemsLimited[0][key] === 'number') {\r\n            summed[key] = 0\r\n          }\r\n          if (this.totalRowField) {\r\n            summed[this.totalRowField] = 'Total'\r\n          }\r\n          for (let item of this.itemsLimited) {\r\n            if (typeof summed[key] === 'number') {\r\n              summed[key] = summed[key] + item[key]\r\n            }\r\n          }\r\n        }\r\n        return summed;\r\n      },\r\n      count() {\r\n        if (this.$props.options.useApiCount) {\r\n          return this.totalSize;\r\n        } else {\r\n          return this.itemsAfterFilters.length;\r\n        }\r\n      },\r\n      countText() {\r\n        if (this.$props.options.noCount) {\r\n          return '';\r\n        } else if (this.highestRowRetrieved < this.count) {\r\n          return `(1 - ${ this.count < this.highestRowRetrieved ? this.count : this.highestRowRetrieved } of ${this.count})`;\r\n        } else {\r\n          return `(${this.count})`;\r\n        }\r\n      },\r\n      shouldShowExternalLink() {\r\n        if (this.options.externalLink.forceShow) {\r\n          return this.options.externalLink.forceShow;\r\n        } else {\r\n          return this.itemsAfterSearch.length > this.limit;\r\n        }\r\n      },\r\n      // externalLinkAction() {\r\n      //   return this.options.externalLink.action || 'See more';\r\n      // },\r\n      // externalLinkText() {\r\n      //   const externalLinkConf = this.options.externalLink;\r\n      //   const actionFn = externalLinkConf.action;\r\n      //   const actionText = actionFn(this.externalLinkCount);\r\n      //   const name = externalLinkConf.name;\r\n      //\r\n      //   return `${actionText}`;\r\n      //   // return `${actionText} at ${name}`;\r\n      // },\r\n      // externalLinkHref() {\r\n      //   return this.evaluateSlot(this.options.externalLink.href);\r\n      // },\r\n      // // the number of items that aren't being shown (e.g. See 54 more...)\r\n      // externalLinkCount() {\r\n      //   return this.count - this.limit;\r\n      // },\r\n    },\r\n    methods: {\r\n      exportTableToMailing() {\r\n        const tableData = []\r\n        let fields = [];\r\n        let totals = {};\r\n        let mailingFields = this.$props.options.mailingFields();\r\n        let labelFields = mailingFields.fields.map(a => a.label)\r\n        let labelValues = mailingFields.fields.map(a => a.value)\r\n\r\n        for (let field of labelFields) {\r\n          fields.push(field.label)\r\n          totals[field.label] = 0;\r\n        }\r\n\r\n\r\n        for (let item of this.items) {\r\n          let theArray = []\r\n          let i = 0;\r\n          for (let field of labelFields) {\r\n            // console.log(\"field: \", field, \"labelValues: \", labelValues, \"item: \",  item)\r\n            if (labelValues[i](this.$store.state, item) === null) {\r\n              theArray.push('');\r\n            } else {\r\n              theArray.push(labelValues[i](this.$store.state, item)) || '';\r\n            }\r\n\r\n            if (labelValues[i](this.$store.state, item) === null || isNaN(labelValues[i](this.$store.state, item))) {\r\n            // if (isNaN(field['value'](this.$store.state, item))) {\r\n              // console.log('isnull:', field['value'](this.$store.state, item));\r\n              totals[field.label] = ''\r\n            } else {\r\n              // console.log('is not null:', field['value'](this.$store.state, item));\r\n              totals[field.label] = totals[field.label] + parseFloat(labelValues[i](this.$store.state, item));\r\n            }\r\n            i++;\r\n          }\r\n          tableData.push(theArray);\r\n        }\r\n\r\n        // console.log('tableData:', tableData);\r\n        var doc = new jsPDF('p', 'pt', 'letter');\r\n        // console.log(\"tableData: \", tableData);\r\n        let tableJoin = chunk(tableData.map(a => a.join('\\n')),3);\r\n        // console.log(\"table joined and chunked: \", tableJoin)\r\n\r\n        doc.autoTable({\r\n          body: tableJoin,\r\n          content: 'Text',\r\n          startY: 36,\r\n          margin: {top: 36, right: 12, bottom: 36, left: 12},\r\n          willDrawCell: data => data.section === 'head' ? false : data.cell.height = 72,\r\n          didDrawCell: data => data.row.height= 72,\r\n          styles: {cellWidth: 196, halign: 'center', valign: 'middle', fontSize: 10},\r\n          alternateRowStyles: {fillColor: 'white'},\r\n          tableWidth: 'wrap',\r\n          rowPageBreak: 'avoid',\r\n        });\r\n\r\n        // console.log(doc);\r\n\r\n        let filename;\r\n        let fileStart = this.evaluateSlot(this.$props.options.export.file);\r\n        if (fileStart) {\r\n          filename = this.evaluateSlot(this.$props.options.export.file) + '.pdf';\r\n        } else {\r\n          filename = 'export.pdf';\r\n        }\r\n        doc.save(filename);\r\n      },\r\n\r\n      exportTableToPDF() {\r\n        const tableData = []\r\n        let fields = [];\r\n        let totals = {};\r\n        for (let field of this.$props.options.fields) {\r\n          fields.push(field.label)\r\n          totals[field.label] = 0;\r\n        }\r\n        for (let item of this.items) {\r\n          let theArray = []\r\n          for (let field of this.$props.options.fields) {\r\n            if (field['value'](this.$store.state, item) === null) {\r\n              theArray.push('');\r\n            } else {\r\n              theArray.push(field['value'](this.$store.state, item)) || '';\r\n            }\r\n\r\n            if (field['value'](this.$store.state, item) === null || isNaN(field['value'](this.$store.state, item))) {\r\n            // if (isNaN(field['value'](this.$store.state, item))) {\r\n              // console.log('isnull:', field['value'](this.$store.state, item));\r\n              totals[field.label] = ''\r\n            } else {\r\n              // console.log('is not null:', field['value'](this.$store.state, item));\r\n              totals[field.label] = totals[field.label] + parseFloat(field['value'](this.$store.state, item));\r\n            }\r\n          }\r\n          tableData.push(theArray);\r\n        }\r\n\r\n        if (typeof this.$props.options.totalRow != 'undefined' && this.$props.options.totalRow.enabled) {\r\n          let theArray = []\r\n          for (let field of this.$props.options.fields) {\r\n            if (field.label.toLowerCase() === this.$props.options.totalRow.totalField) {\r\n              theArray.push('Total');\r\n            } else if (totals[field.label] === '') {\r\n              theArray.push('');\r\n            } else {\r\n              theArray.push(parseFloat(totals[field.label]).toFixed(2));\r\n            }\r\n          }\r\n          tableData.push(theArray);\r\n        }\r\n        console.log('tableData:', tableData);\r\n\r\n        // var doc = new jsPDF();\r\n        var doc = new jsPDF('p', 'pt');\r\n        doc.setFontSize(12);\r\n        let top = 20;\r\n        if(this.$props.options.export.introLines) {\r\n          for (let introLine of this.$props.options.export.introLines) {\r\n            doc.text(10, top, this.evaluateSlot(introLine));\r\n            top = top + 12\r\n          }\r\n        }\r\n        doc.autoTable({\r\n          head: fields,\r\n          body: tableData,\r\n          startY: 100,\r\n          tableWidth: 'wrap'\r\n        });\r\n\r\n        let filename;\r\n        let fileStart = this.evaluateSlot(this.$props.options.export.file);\r\n        if (fileStart) {\r\n          filename = this.evaluateSlot(this.$props.options.export.file) + '.pdf';\r\n        } else {\r\n          filename = 'export.pdf';\r\n        }\r\n        doc.save(filename);\r\n      },\r\n\r\n      exportTableToCSV() {\r\n        // console.log('exportTableToCSV is running');\r\n        const tableData = []\r\n\r\n        const fields = this.fields\r\n        let totals = {};\r\n\r\n        for (let item of this.items) {\r\n          let object = {}\r\n          for (let field of this.$props.options.fields) {\r\n            object[field.label] = field['value'](this.$store.state, item);\r\n            if (isNaN(field['value'](this.$store.state, item))) {\r\n              totals[field.label] = null\r\n            } else {\r\n              totals[field.label] = totals[field.label] + parseFloat(field['value'](this.$store.state, item));\r\n            }\r\n          }\r\n          tableData.push(object);\r\n        }\r\n\r\n        if (typeof this.$props.options.totalRow != 'undefined' && this.$props.options.totalRow.enabled) {\r\n          let object = {}\r\n          for (let field of this.$props.options.fields) {\r\n            if (field.label.toLowerCase() === this.$props.options.totalRow.totalField) {\r\n              object[field.label] = 'Total';\r\n            } else {\r\n              object[field.label] = totals[field.label];\r\n            }\r\n          }\r\n          tableData.push(object);\r\n        }\r\n\r\n        const opts = { fields };\r\n\r\n        try {\r\n          var result, ctr, keys, columnDelimiter, lineDelimiter, data;\r\n\r\n          data = tableData || null;\r\n          if (data == null || !data.length) {\r\n              return null;\r\n          }\r\n          columnDelimiter = ',';\r\n          lineDelimiter = '\\n';\r\n          // columnDelimiter = args.columnDelimiter || ',';\r\n          // lineDelimiter = args.lineDelimiter || '\\n';\r\n\r\n          // keys = Object.keys(data[0]);\r\n          keys = fields.map(a => a.value);\r\n          let state = this.$store.state;\r\n\r\n          result = '';\r\n\r\n          if(this.$props.options.export.introLines) {\r\n            for (let introLine of this.$props.options.export.introLines) {\r\n              result += this.evaluateSlot(introLine);\r\n              result += lineDelimiter;\r\n            }\r\n          }\r\n\r\n          result += fields.map(field => field.label).join(columnDelimiter);\r\n          result += lineDelimiter;\r\n\r\n          data = data.map( item => Object.values(item).map( value => '\"' + value + '\"'));\r\n\r\n          result += data.map( item => item).join(lineDelimiter);\r\n\r\n          let csv = result;\r\n\r\n          data = null;\r\n          let filename;\r\n          let link;\r\n\r\n          // filename = 'export.csv';\r\n          let fileStart = this.evaluateSlot(this.$props.options.export.file);\r\n          if (fileStart) {\r\n            filename = this.evaluateSlot(this.$props.options.export.file) + '.csv';\r\n          } else {\r\n            filename = 'export.csv';\r\n          }\r\n\r\n          let csv_notIE\r\n          if (!csv.match(/^data:text\\/csv/i)) {\r\n              csv_notIE = 'data:text/csv;charset=utf-8,' + csv;\r\n          }\r\n          data = encodeURI(csv_notIE);\r\n\r\n          var isOpera = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\r\n          var isFirefox = typeof InstallTrigger !== 'undefined';\r\n          var isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === \"[object SafariRemoteNotification]\"; })(!window['safari'] || (typeof safari !== 'undefined' && safari.pushNotification));\r\n          var isIE = /*@cc_on!@*/false || !!document.documentMode;\r\n          var isEdge = !isIE && !!window.StyleMedia;\r\n          var isChrome = !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);\r\n          var isBlink = (isChrome || isOpera) && !!window.CSS;\r\n\r\n          if (isIE) {\r\n            var oWin = window.open();\r\n            oWin.document.write('sep=,\\r\\n' + csv);\r\n            oWin.document.close();\r\n            oWin.document.execCommand('SaveAs', true, filename);\r\n            oWin.close();\r\n          } else {\r\n            link = document.createElement('a');\r\n            link.setAttribute('href', data);\r\n            link.setAttribute('download', filename);\r\n            link.click();\r\n          }\r\n\r\n\r\n\r\n\r\n        } catch (err) {\r\n          console.error(err);\r\n        }\r\n\r\n      },\r\n      showMoreRecords() {\r\n        // if there is only 1 page to return (from AIS);\r\n        if (!this.pageCount) {\r\n          this.compareAndSetHighestRowRetrieved();\r\n        // if there are multiple pages to return (from AIS) and there are not enough items in the table state (itemsFiltered) to cover the increment;\r\n        } else if (this.itemsAfterFilters.length < this.highestRowRetrieved + this.options.defaultIncrement) {\r\n          // if there is another page to return (from AIS)\r\n          if (this.pageCount > this.highestPageRetrieved) {\r\n            this.getMoreRecords();\r\n            this.compareAndSetHighestRowRetrieved();\r\n          // if there are no more pages to return (from AIS)\r\n          } else {\r\n            this.highestRowRetrieved = this.count;\r\n          }\r\n        // if there are multiple pages to return (from AIS) but there are already enough items in the table state (itemsFiltered) to cover the increment;\r\n        } else {\r\n          if (!this.options.showAllRowsOnFirstClick) {\r\n            this.highestRowRetrieved = this.highestRowRetrieved + this.options.defaultIncrement;\r\n          } else {\r\n            this.highestRowRetrieved = this.count;\r\n          }\r\n        }\r\n      },\r\n      compareAndSetHighestRowRetrieved() {\r\n        if (!this.options.showAllRowsOnFirstClick) {\r\n          if (this.count < this.highestRowRetrieved + this.options.defaultIncrement) {\r\n            this.highestRowRetrieved = this.count;\r\n          } else {\r\n            this.highestRowRetrieved = this.highestRowRetrieved + this.options.defaultIncrement;\r\n          }\r\n        } else {\r\n          this.highestRowRetrieved = this.count;\r\n        }\r\n      },\r\n      getMoreRecords() {\r\n        const dataSource = this.options.id;\r\n        const highestPageRetrieved = this.highestPageRetrieved;\r\n        this.$controller.getMoreRecords(dataSource, highestPageRetrieved);\r\n      },\r\n      slugifyFilterValue(filterValue) {\r\n        const { direction, value, unit } = filterValue;\r\n        return [direction, value, unit].join('-');\r\n      },\r\n      deslugifyFilterValue(slug) {\r\n        const parts = slug.split('-');\r\n        const [direction, value, unit] = parts;\r\n        return {value, unit, direction};\r\n      },\r\n      handleSortValueChange(e) {\r\n        // console.log('handleSortValueChange running', e);\r\n\r\n        const value = e.target.value;\r\n        this.sortField = value;\r\n      },\r\n      handleFilterValueChange(e) {\r\n        console.log('handle filter value change', e);\r\n\r\n        const target = e.target;\r\n        const slug = target.value;\r\n\r\n        // deslugify filter value\r\n        const valueObj = this.deslugifyFilterValue(slug);\r\n\r\n        const parent = target.parentElement;\r\n        const parentId = parent.id;\r\n\r\n        // patch and replace filter selections\r\n        const prevFilterSelections = this.filterSelections;\r\n        const nextFilterSelections = Object.assign({}, prevFilterSelections);\r\n        nextFilterSelections[parentId] = valueObj;\r\n        this.filterSelections = nextFilterSelections;\r\n      },\r\n      values(item) {\r\n        const fields = this.options.fields;\r\n        const sourceFields = fields.map(field => field.sourceField);\r\n        return sourceFields.map(sourceField => item[sourceField])\r\n      },\r\n      handleFilterFormKeyup(e) {\r\n        const input = e.target.value;\r\n        this.searchText = input;\r\n      },\r\n      handleFilterFormX(e) {\r\n        e.target[0].value = ''\r\n        this.searchText = \"\";\r\n      },\r\n      filterItems(items, filters, filterSelections) {\r\n        // console.log('typeof items:', typeof items);\r\n        // console.log('FILTER ITEMS is running, items:', items, 'filters:', filters, 'filterSelections:', filterSelections);\r\n        let itemsFiltered = items.slice();\r\n\r\n        if (filters) {\r\n          // console.log('in filterItems, filters:', filters, 'filters.length', filters.length, 'filters.entries():', filters.entries(), 'filters.keys():', filters.keys());\r\n          // for (let [index, filter] of filters.entries()) {\r\n          for (let index=0; index < filters.length; index++) {\r\n            const key = 'filter-' + index;\r\n            // const key = `filter-${index}`;\r\n            const data = filterSelections[key];\r\n            // console.log('index:', index, 'key:', key, 'data:', data, 'filters:', filters[index]);\r\n            const {type, getValue} = filters[index];\r\n            const {unit, value} = data;\r\n            const direction = data.direction || 'subtract';\r\n\r\n            // console.log('type:', type);\r\n\r\n            // TODO put these in separate methods\r\n            switch(type) {\r\n              case 'data':\r\n                // console.log('DATA FILTER');\r\n                // itemsFiltered = itemsFiltered.filter(item => {\r\n                //   const itemValue = getValue(item);\r\n                //   console.log('horiz table itemValue:', itemValue);\r\n                //   return itemValue;\r\n                // });\r\n                break;\r\n              case 'time':\r\n                console.log('TIME FILTER direction', direction, 'value:', value, 'unit:', unit);\r\n                let min, max;\r\n                let min2, max2;\r\n                let subFn, addFn\r\n\r\n                switch (unit) {\r\n                  case 'hours':\r\n                    subFn = subHours;\r\n                    addFn = addHours;\r\n                    break;\r\n                  case 'days':\r\n                    subFn = subDays;\r\n                    addFn = addDays;\r\n                    break;\r\n                  case 'weeks':\r\n                    subFn = subWeeks;\r\n                    addFn = addWeeks;\r\n                    break;\r\n                  case 'months':\r\n                    subFn = subMonths;\r\n                    addFn = addMonths;\r\n                    break;\r\n                  case 'years':\r\n                    subFn = subYears;\r\n                    addFn = addYears;\r\n                    break;\r\n                }\r\n\r\n\r\n                if (direction === 'subtract') {\r\n                  max = new Date();\r\n                  min = subFn(max, value);\r\n                  console.log('max:', max, 'min', min);\r\n                } else if (direction === 'add') {\r\n                  max = new Date();\r\n                  min = addFn(max, value);\r\n                } else {\r\n                  throw `Invalid time direction: ${direction}`;\r\n                }\r\n\r\n                // console.log('in case time, itemsFiltered:', itemsFiltered);\r\n                itemsFiltered = itemsFiltered.filter(item => {\r\n                  const itemValue = getValue(item);\r\n                  const isBetween = isWithinRange(itemValue, min, max)\r\n                  console.log('itemValue:', itemValue, 'min:', min, 'max:', max, 'isBetween:', isBetween);\r\n                  return isBetween;\r\n                });\r\n                // console.log('ITEMS FILTERED BY TIME FILTER', itemsFiltered);\r\n                break;\r\n\r\n              default:\r\n                throw `Unhandled filter type: ${type}`;\r\n                break;\r\n            }\r\n          }\r\n        }\r\n        return itemsFiltered;\r\n      },\r\n      // sortItems(items, sortOpts) {\r\n      sortItems(items, sortOpts) {\r\n        // console.log('sortItems, sortOpts:', sortOpts);\r\n        // TODO finish this\r\n        // if (Object.keys(this.filterData).length) {\r\n        //   console.log('there is filterData', this.filterData);\r\n        //   return this.itemsFiltered;\r\n        // } else {\r\n        //   console.log('there is no filterData');\r\n        //   return this.items;\r\n        // }\r\n\r\n        // const items = this.itemsFiltered;\r\n        // const sortOpts = this.options.sort;\r\n        // console.log(sortOpts)\r\n\r\n        // if there's no no sort config, just return the items.\r\n        if (!sortOpts) {\r\n          // console.log('noSortOpts');\r\n          return items;\r\n        }\r\n\r\n        // const getValueFn = sortOpts.getValue;\r\n        // const order = sortOpts.order;\r\n\r\n        // get sort fn or use this basic one\r\n        const sortFn = sortOpts.compare || this.defaultSortFn;\r\n        // console.log('sortFn', sortFn);\r\n        // console.log('sortFn', sortFn)\r\n        return items.sort(sortFn);\r\n      },\r\n      defaultSortFn(a, b) {\r\n        // console.log('defaultSortFn is running, a:', a, 'b:', b);\r\n        const sortOpts = this.options.sort;\r\n        const getValueFn = sortOpts.getValue;\r\n        const sortField = this.sortField;\r\n        let order;\r\n        if (typeof sortOpts.order === 'function') {\r\n          const orderFn = sortOpts.order;\r\n          order = orderFn(sortField);\r\n        } else {\r\n          order = sortOpts.order;\r\n        }\r\n        // console.log('sortField', sortField, 'order', order);\r\n\r\n        const valA = getValueFn(a, sortField);\r\n        const valB = getValueFn(b, sortField);\r\n        let result;\r\n\r\n        if (valA === null) {\r\n          if (order === 'desc') {\r\n            result = -1\r\n          } else {\r\n            result = 1\r\n          }\r\n        } else if (valB === null) {\r\n          if (order === 'desc') {\r\n            result = 1\r\n          } else {\r\n            result = -1\r\n          }\r\n        } else if (valA < valB) {\r\n          result = -1;\r\n        } else if (valB < valA) {\r\n          result = 1;\r\n        } else {\r\n          result = 0;\r\n        }\r\n\r\n        // reverse if we have an order and the target order is desc\r\n        if (order) {\r\n          if (order === 'desc') {\r\n            result = result * -1;\r\n          } else if (order !== 'asc') {\r\n            throw `Unknown sort order: ${order}`;\r\n          }\r\n        }\r\n\r\n        // console.log('compare', valA, 'to', valB, ', result:', result);\r\n\r\n        return result;\r\n      },\r\n      // this updates the global state that stores filtered table rows\r\n      updateTableFilteredData() {\r\n        // console.log('update table filtered data is running, options:', this.options);\r\n\r\n        // get table id\r\n        const { tableId } = this.options;\r\n\r\n        // update global state\r\n        this.$store.commit('setHorizontalTableFilteredData', {\r\n          tableId,\r\n          data: this.itemsAfterFilters\r\n        });\r\n      },\r\n      isEmpty(obj) {\r\n        for(var key in obj) {\r\n          if(obj.hasOwnProperty(key))\r\n            return false;\r\n        }\r\n        return true;\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  table {\r\n    /* table-layout: fixed; */\r\n    margin: 0;\r\n  }\r\n\r\n  .center-button {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .external-link {\r\n    padding-top: 5px;\r\n  }\r\n\r\n  .filter-by-text-form {\r\n    border: 2px solid #0f4d90;\r\n  }\r\n\r\n  .group:after {\r\n    content: \"\";\r\n    display: table;\r\n    clear: both;\r\n  }\r\n\r\n  .inline-block {\r\n    display: inline-block;\r\n  }\r\n  .loading {\r\n    float: right;\r\n  }\r\n\r\n  .no-padding {\r\n    padding-top: 0;\r\n    padding-bottom: 0;\r\n  }\r\n\r\n  .position-relative {\r\n    position: relative !important;\r\n  }\r\n\r\n  .pvc-download-data-button, .pvc-export-data-button {\r\n    float: right;\r\n    vertical-align: baseline;\r\n    display: inline-block;\r\n  }\r\n  .pvc-horizontal-table {\r\n    margin-bottom: 10px !important;\r\n  }\r\n\r\n  .pvc-horizontal-table-body {\r\n    padding-top: 1rem;\r\n    padding-bottom: 0.35rem;\r\n  }\r\n\r\n  .pvc-horizontal-table-controls {\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  /*REVIEW this repeats a lot of .pvc-search-control-input. can it be refactored?*/\r\n\r\n  .pvc-search-control-button {\r\n    width: 40px;\r\n    background: #ccc;\r\n    line-height: 40px;\r\n    float: right;\r\n  }\r\n\r\n  /* input filters using text */\r\n  .pvc-search-control-input {\r\n    height: 40px !important;\r\n    line-height: 48px;\r\n    padding: 8px;\r\n    font-size: 16px;\r\n    width: 300px;\r\n    /*margin-left: 10px;*/\r\n  }\r\n\r\n  .pvc-search-control-input-full {\r\n    height: 40px !important;\r\n    line-height: 48px;\r\n    padding: 8px;\r\n    font-size: 16px;\r\n    width: 260px;\r\n  }\r\n\r\n  .pvc-select {\r\n    width: auto;\r\n    height: 40px;\r\n    vertical-align: middle;\r\n    /*padding-right: 20px;*/\r\n  }\r\n\r\n  .pvc-select-option {\r\n    display: inline-block;\r\n    padding-right: 100px;\r\n    margin-right: 100px;\r\n  }\r\n\r\n  .pvc-export-data-button {\r\n    float: right;\r\n    vertical-align: baseline;\r\n    display: inline-block;\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  /* dropdown filters */\r\n  .pvc-select-text {\r\n    font-size: 16px;\r\n    padding-right: 5px;\r\n    padding-left: 5px;\r\n  }\r\n\r\n  .vertically-centered {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n\r\n</style>\r\n","<template>\r\n  <img :src=\"slots.source\" />\r\n</template>\r\n\r\n<script>\r\nimport TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent]\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  img {\r\n    display: block;\r\n    margin: 0 auto;\r\n  }\r\n</style>\r\n","<template>\r\n  <div v-if=\"shouldShowTable\" class=\"table-container\">\r\n    <h4 v-if=\"slots.title\"\r\n        class=\"table-title\"\r\n    >\r\n      {{ evaluateSlot(slots.title) }}\r\n    </h4>\r\n    <table>\r\n      <tbody>\r\n        <tr v-for=\"field in slots.fields\">\r\n          <th v-html=\"evaluateSlot(field.label)\"\r\n              :style=\"styles.th || ''\"\r\n          />\r\n          <td v-html=\"evaluateSlot(field.value, field.transforms, nullValue)\"\r\n              v-if=\"hasData\"\r\n          />\r\n          <td v-html=\"''\"\r\n              v-if=\"!hasData\"\r\n          />\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <external-link v-if=\"options && options.externalLink\"\r\n                   :options=\"options.externalLink\"\r\n                   :type=\"'vertical-table'\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import ExternalLink from './ExternalLink.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    components: {\r\n      ExternalLink,\r\n    },\r\n    computed: {\r\n      styles() {\r\n        if (this.$props.options.styles) {\r\n          return this.$props.options.styles;\r\n        } else {\r\n          return '';\r\n        }\r\n      },\r\n      shouldShowTable() {\r\n        const hasData = this.hasData;\r\n        if (this.item) {\r\n          if (this.item.activeTable) {\r\n            const filterValue = this.item.activeTable;\r\n            const id = this.options.id;\r\n            if (filterValue === id) {\r\n              return true\r\n              // return hasData;\r\n            } else {\r\n              return false;\r\n            }\r\n          } else {\r\n            return true;\r\n            // return hasData;\r\n          }\r\n        } else {\r\n          return true;\r\n          // return hasData;\r\n        }\r\n      },\r\n      hasData() {\r\n        // console.log(this.topicKey, '-', 'hasData?', this.dataSources);\r\n        // console.log('vertTable hasData is running, this.$props.options:', this.$props.options, 'this.$config.dataSources:', this.$config.dataSources);\r\n\r\n        // make sure the following is true for all data sources\r\n        if (!this.$props.options.dataSources) {\r\n          return true;\r\n        } else {\r\n          const hasData = this.$props.options.dataSources.every(dataSource => {\r\n            const targetsFn = this.$config.dataSources[dataSource].targets;\r\n\r\n            // if the data source is configured for targets\r\n            if (targetsFn) {\r\n              const targetsMap = this.$store.state.sources[dataSource].targets;\r\n              const targets = Object.values(targetsMap);\r\n\r\n              // but there are no targets for this address, return false\r\n              if (targets.length === 0) {\r\n                return false;\r\n              }\r\n\r\n              // if there are targets for this address, make sure none of them\r\n              // are \"waiting\"\r\n              return targets.every(target => target.status !== 'waiting');\r\n\r\n            // if the data source is not configured for targets, just check that\r\n            // it has data\r\n            } else {\r\n              return !!this.$store.state.sources[dataSource].data;\r\n            }\r\n          });\r\n\r\n          return hasData;\r\n        }\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  table {\r\n    margin: 0;\r\n  }\r\n\r\n  th, td {\r\n    font-size: 15px;\r\n    text-align: left;\r\n  }\r\n\r\n  th {\r\n    width: 30%;\r\n  }\r\n\r\n  .external-link {\r\n    padding-top: 5px;\r\n  }\r\n\r\n  .table-title {\r\n    /*too much*/\r\n    /*margin-top: 1rem;*/\r\n  }\r\n\r\n  .table-container {\r\n    /*this was too much padding for the parcel table, taking out for now*/\r\n    /*padding-top: 1rem;*/\r\n    margin-bottom: 10px !important;\r\n  }\r\n</style>\r\n","<template>\r\n  <div v-if=\"items.length\">\r\n    <div class=\"container\">\r\n      <h4 v-if=\"slots.title\">\r\n        {{ evaluateSlot(slots.title) }}\r\n      </h4>\r\n      <a class=\"button overlay-toggle\" href=\"#\" v-for=\"item in items\" :data-key=\"keyForItem(item)\"\r\n                @click=\"handleClick\"\r\n                @mouseover=\"handleMouseover(keyForItem(item))\"\r\n                @mouseout=\"handleMouseout\"\r\n                :class=\"{'active': isActive(item), 'mouseover': isMousedover(item)}\">\r\n        {{ keyForItem(item) }}\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    data() {\r\n      return {\r\n        mouseover: null\r\n      }\r\n    },\r\n    computed: {\r\n      items() {\r\n        return this.evaluateSlot(this.slots.items);\r\n      },\r\n    },\r\n    methods: {\r\n      isActive(item) {\r\n        const imageOverlay = this.$store.state.map.imageOverlay;\r\n        const itemKey = this.keyForItem(item);\r\n        return imageOverlay === itemKey;\r\n      },\r\n      keyForItem(item) {\r\n        const getKeyFn = this.options.getKey;\r\n        return getKeyFn(item);\r\n      },\r\n      handleClick(e) {\r\n        e.preventDefault();\r\n        const prevImageOverlay = this.$store.state.map.imageOverlay;\r\n        const nextImageOverlay = e.target.getAttribute('data-key');\r\n        // console.log(nextImageOverlay);\r\n        if (prevImageOverlay === nextImageOverlay) {\r\n          this.$store.commit('setImageOverlay', null);\r\n        } else {\r\n          this.$store.commit('setImageOverlay', nextImageOverlay);\r\n        }\r\n      },\r\n      handleMouseover(key) {\r\n        this.mouseover = key;\r\n      },\r\n      handleMouseout() {\r\n        this.mouseover = null;\r\n      },\r\n      isMousedover(item) {\r\n        const itemKey = this.keyForItem(item);\r\n        if (itemKey === this.mouseover) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .container {\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  .button {\r\n    margin-right: 10px;\r\n    margin-top: 0px;\r\n    margin-bottom: 0px;\r\n  }\r\n\r\n  .overlay-toggle {\r\n    border: 1px solid #f99300 !important;\r\n    color: #f99300 !important;\r\n    background: #fff !important;\r\n  }\r\n\r\n  .overlay-toggle.mouseover {\r\n    background: #444 !important;\r\n    color: white !important;\r\n  }\r\n\r\n  .overlay-toggle.active {\r\n    background: #f99300 !important;\r\n    color: #fff !important;\r\n  }\r\n</style>\r\n","<template>\r\n\r\n  <p v-html=\"this.message\"\r\n     :style=\"this.style\"\r\n     v-show=\"this.vshowComputed\"\r\n  />\r\n\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    computed: {\r\n      additionalTags() {\r\n        return this.$props.slots.additionalTags || [];\r\n      },\r\n      message() {\r\n        // if there is a transform, it needs this textWithTags section\r\n        let textWithTags = ''\r\n        for (let tag of this.additionalTags) {\r\n          textWithTags = textWithTags + '<' + tag + '>';\r\n        }\r\n        textWithTags = textWithTags + this.evaluateSlot(this.$props.slots.text, this.$props.slots.transforms);\r\n        for (let tag of this.additionalTags) {\r\n          textWithTags = textWithTags + '</' + tag + '>';\r\n        }\r\n        return textWithTags;\r\n      },\r\n      style() {\r\n        if (this.$props.options) {\r\n          return this.$props.options.style || '';\r\n        }\r\n      },\r\n      vshowComputed() {\r\n        // console.log('vshowProp:', this.$props.slots.vshowProp);\r\n        if (this.$props.slots) {\r\n          if (this.evaluateSlot(this.$props.slots.vshowProp) === false) {\r\n            // console.log('returning vshowProp:', this.evaluateSlot(this.$props.slots.vshowProp));\r\n            return false;\r\n          } else {\r\n            // console.log('returning true, vshowProp:', this.evaluateSlot(this.$props.slots.vshowProp));\r\n            return true;\r\n          }\r\n        } else {\r\n          // console.log('returning true, no props');\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","<template>\r\n\r\n  <span :style=\"this.style\"\r\n        v-html=\"this.message\"\r\n  />\r\n    <!-- test\r\n  </span> -->\r\n\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    computed: {\r\n      additionalTags() {\r\n        return this.$props.slots.additionalTags || [];\r\n      },\r\n      message() {\r\n        // if there is a transform, it needs this textWithTags section\r\n        let textWithTags = ''\r\n        for (let tag of this.additionalTags) {\r\n          textWithTags = textWithTags + '<' + tag + '>';\r\n        }\r\n        textWithTags = textWithTags + this.evaluateSlot(this.$props.slots.text, this.$props.slots.transforms);\r\n        for (let tag of this.additionalTags) {\r\n          textWithTags = textWithTags + '</' + tag + '>';\r\n        }\r\n        return textWithTags;\r\n      },\r\n      style() {\r\n        if (this.$props.options) {\r\n          return this.$props.options.style || '';\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"list\">\r\n    <ul v-if=\"evaluateSlot(slots.relatedAddresses)\">\r\n      <li v-for=\"relatedAddress in evaluateSlot(slots.relatedAddresses)\"\r\n      >\r\n        <a :href=\"'#/' + encodeURIComponent(relatedAddress.properties.street_address)\"\r\n        >\r\n          {{ relatedAddress.properties.street_address }}\r\n        </a>\r\n      </li>\r\n    </ul>\r\n    <p v-else\r\n       class=\"message-p\"\r\n    >\r\n      No related addresses were found for this address.\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.list {\r\n  position: inherit;\r\n  margin-bottom: 0px !important;\r\n}\r\n\r\nul {\r\n  list-style: none;\r\n  padding-left: 0;\r\n  margin-left: 0;\r\n}\r\n\r\n.message-p {\r\n  margin-bottom: 0px;\r\n}\r\n\r\n/*.topic-body {\r\n  margin-bottom: 0px;\r\n}*/\r\n\r\n</style>\r\n","<template>\r\n  <div>\r\n    <ul class=\"tabs\" data-tabs>\r\n      <li class=\"tabs-title\"\r\n          v-for=\"item in items\"\r\n          v-bind:class=\"{'is-active': itemIsActive(item)}\"\r\n          :key=\"keyForItem(item)\"\r\n      >\r\n        <a :href=\"'#parcel-' + keyForItem(item)\"\r\n           @click.prevent=\"clickedItem(item)\"\r\n        >\r\n        <!-- @click.prevent=\"activeItem = keyForItem(item)\" -->\r\n          {{ titleForItem(item) }}\r\n        </a>\r\n      </li>\r\n    </ul>\r\n\r\n    <div class=\"tabs-content\">\r\n      <div class=\"tabs-panel\"\r\n           v-for=\"item in items\"\r\n           v-bind:class=\"{'is-active': itemIsActive(item)}\"\r\n           v-bind:id=\"'parcel-' + keyForItem(item)\"\r\n      >\r\n        <topic-component-group :topic-components=\"comps\" :item=\"item\">\r\n        </topic-component-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import TopicComponentGroup from './TopicComponentGroup.vue';\r\n  // console.log('in TabGroup.vue script, TopicComponentGroup:', TopicComponentGroup);\r\n\r\n  export default {\r\n    name: 'TabGroup',\r\n    mixins: [TopicComponent],\r\n    components: {\r\n      // TopicComponentGroup\r\n    },\r\n    beforeCreate() {\r\n      // console.log('tabGroup beforeCreate is running');\r\n      this.$options.components.TopicComponentGroup = TopicComponentGroup;\r\n    },\r\n    // some internal state for things local enough that they shouldn't be in\r\n    // vuex if we can avoid it.\r\n    data() {\r\n      // computed props aren't accessible here, so evaluate slot separately\r\n      const items = this.evaluateSlot(this.slots.items);\r\n      return {\r\n        activeItem: this.activeItemFromState,// || this.keyForItem(items[0]),\r\n        activeMapreg: this.activeMapregFromState,// || this.titleForItem(items[0]),\r\n        activeAddress: this.activeAddressFromState,// || this.addressForItem(items[0])\r\n      };\r\n    },\r\n    mounted() {\r\n    //   // REVIEW globals. also is this still needed?\r\n      this.$data.activeItem = this.activeItemFromState;\r\n      this.$data.activeMapreg = this.activeMapregFromState;\r\n      this.$data.activeAddress = this.activeAddressFromState;\r\n    },\r\n    // props: [],\r\n    computed: {\r\n      items() {\r\n        const items = this.evaluateSlot(this.slots.items);\r\n\r\n        // sort\r\n        const sortFn = this.options.sort;\r\n        let itemsSorted = items;\r\n        if (sortFn) {\r\n          itemsSorted = sortFn(items);\r\n        }\r\n\r\n        return itemsSorted;\r\n      },\r\n      comps() {\r\n        return this.options.components;\r\n      },\r\n      activeItemFromState() {\r\n        return this.$store.state.parcels.dor.activeParcel;\r\n      },\r\n      activeMapregFromState() {\r\n        return this.$store.state.parcels.dor.activeMapreg;\r\n      },\r\n      activeAddressFromState() {\r\n        return this.$store.state.parcels.dor.activeAddress;\r\n      }\r\n    },\r\n    watch: {\r\n      // when items change, update the activeItem\r\n      items(items) {\r\n        const nextFirstItem = items[0];\r\n        const nextActiveKey = this.keyForItem(nextFirstItem);\r\n        this.activeItem = nextActiveKey;\r\n        const nextMapreg = this.titleForItem(nextFirstItem);\r\n        this.activeMapreg = nextMapreg;\r\n        const nextAddress = this.addressForItem(nextFirstItem);\r\n        this.activeAddress = nextAddress;\r\n      }\r\n    },\r\n    methods: {\r\n      clickedItem(item) {\r\n        this.$data.activeItem = this.keyForItem(item)\r\n        this.$data.activeMapreg = this.titleForItem(item);\r\n        this.$data.activeAddress = this.addressForItem(item);\r\n\r\n        const payload = {\r\n          parcelLayer: 'dor',\r\n          activeParcel: this.$data.activeItem,\r\n          activeMapreg: this.$data.activeMapreg,\r\n          activeAddress: this.$data.activeAddress\r\n        }\r\n        this.$store.commit('setActiveParcel', payload);\r\n        // this.$store.commit('setActiveDorParcel', this.$data.activeItem);\r\n      },\r\n      keyForItem(item) {\r\n        try {\r\n          return this.options.getKey(item);\r\n        } catch (e) {\r\n          return null;\r\n        }\r\n      },\r\n      titleForItem(item) {\r\n        try {\r\n          return this.options.getTitle(item);\r\n        } catch (e) {\r\n          return null;\r\n        }\r\n      },\r\n      addressForItem(item) {\r\n        try {\r\n          return this.options.getAddress(item);\r\n        } catch (e) {\r\n          return null;\r\n        }\r\n      },\r\n      itemIsActive(item) {\r\n        const isActive = (this.activeItem === this.keyForItem(item));\r\n        return isActive;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .tabs-panel {\r\n    padding: 20px;\r\n    padding-bottom: 0px;\r\n  }\r\n\r\n  /*recreate phila patterns tab styles*/\r\n  .tabs-title a {\r\n    border-left: 5px solid #fff;\r\n  }\r\n\r\n  .tabs-title.is-active a {\r\n    border-left: 5px solid #f99300;\r\n    /*when you first load the page, the active tab doesn't turn gray for some\r\n    reason. forcing it here.*/\r\n    background: #f0f0f0;\r\n  }\r\n\r\n  .tabs-title a:hover {\r\n    border-left: 5px solid #f99300;\r\n    background: #f0f0f0;\r\n  }\r\n</style>\r\n","<template>\r\n  <div>\r\n    <div v-if=\"!!this.$props.options.filters\"\r\n         class=\"mb-horizontal-table-controls\"\r\n    >\r\n      <div v-for=\"(filter, index) in this.$props.options.filters\"\r\n            :id=\"'filter-' + index\"\r\n            class=\"inline-block\"\r\n      >\r\n        <div class='vertically-centered mb-select-text'>{{ filter.label }}</div>\r\n        <select @change=\"handleFilterValueChange\"\r\n                class=\"mb-select\"\r\n        >\r\n          <optgroup>\r\n            <option v-for=\"filterValue in filter.values\"\r\n                    :value=\"slugifyFilterValue(filterValue)\"\r\n                    class=\"mb-select-option\"\r\n            >\r\n              {{ filterValue.label }}\r\n            </option>\r\n          </optgroup>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <horizontal-table v-for=\"table in options.tables\"\r\n                      v-show=\"shouldShowTable(table.options.id)\"\r\n                      :item=\"tableGroupData\"\r\n                      :options=\"table.options\"\r\n                      :slots=\"table.slots\"\r\n    >\r\n    </horizontal-table>\r\n    <!-- <topic-component-group :topic-components=\"options.components\" :item=\"item\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import HorizontalTable from './HorizontalTable.vue';\r\n  // import TopicComponentGroup from '../TopicComponentGroup.vue';\r\n\r\n  export default {\r\n    // name: 'HorizontalTableGroup',\r\n    mixins: [TopicComponent],\r\n    components: {\r\n      HorizontalTable,\r\n      // TopicComponentGroup\r\n    },\r\n    // some internal state for things local enough that they shouldn't be in\r\n    // vuex if we can avoid it.\r\n    data() {\r\n      const tableGroupData = {\r\n        'tableGroupId': this.options.horizontalTableGroupId,\r\n        'activeTable': null,\r\n        'activeTableId': null,\r\n      };\r\n      // return {\r\n      //   horizontalTableGroupId: this.options.horizontalTableGroupId,\r\n      //   activeTable: null,\r\n      //   activeTableId: null,\r\n      // };\r\n      return {\r\n        tableGroupData\r\n      };\r\n    },\r\n    created() {\r\n      console.log('horizontalTableGroup created is starting, this.tableGroupData:', this.tableGroupData);\r\n      if (this.options.filters) {\r\n        console.log('horizontalTableGroup created, if this.options.filters is running:', this.options.filters, this.options.filters.entries());\r\n        for (let filter of this.options.filters) {\r\n        // for (let [index, filter] of this.options.filters.entries()) {\r\n          console.log('for loop, this.options.filters:', this.options.filters[0]);\r\n          // let filter = this.options.filters[0]\r\n        // for (let [index, filter] of this.options.filters.entries()) {\r\n          console.log('for loop, filter:', filter);\r\n          // console.log('for loop, index:', index, 'filter:', filter);\r\n          const defaultTableName = filter.values[0].value || {};\r\n          console.log('for loop, defaultTableName:', defaultTableName);\r\n\r\n          // add activeTable to local data\r\n          this.tableGroupData.activeTable = defaultTableName;\r\n          // add activeTableId to local data\r\n          // console.log('for loop, this.options.components:', this.options.components);\r\n          for (let comp of this.options.tables) {\r\n            if (comp.options.id === defaultTableName) {\r\n              this.tableGroupData.activeTableId = comp._id;\r\n            }\r\n          }\r\n          console.log('horizontalTableGroup this.tableGroupData:', this.tableGroupData);\r\n          this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n          // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n        }\r\n        console.log('horizontalTableGroup created, if this.options.filters is ending');\r\n      }\r\n      if (this.options.alternate) {\r\n        console.log('horizontalTableGroup created, if this.options.alternate - mainTable', this.options.alternate.mainTable, this.altMainTable, 'dependentTable', this.options.alternate.dependentTable, this.altDepTable);\r\n        const sources = this.$store.state.sources;\r\n        // console.log('Tablegroup source check dep', sources[this.altDepTable.dataSource].data);\r\n        // console.log('Tablegroup source check main', sources[this.altMainTable.dataSource].data);\r\n        if (sources[this.altDepTable.dataSource].data && !sources[this.altMainTable.dataSource].data) {\r\n          // console.log('Tablegroup there is a dep table, and not a main table');\r\n          this.activeTable = this.altDepTable.id;\r\n          this.activeTableId = 'aaa'\r\n          this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n          // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n        } else if (sources[this.altMainTable.dataSource].data) {\r\n          this.activeTable = this.altMainTable.id;\r\n          this.activeTableId = 'bbb'\r\n          this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n          // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n        }\r\n      }\r\n      if (this.options.showBoth) {\r\n        console.log('tableGroup showBoth');\r\n      }\r\n    },\r\n    computed: {\r\n      altMainTable() {\r\n        if (this.options.alternate) {\r\n          return this.options.alternate.mainTable;\r\n        } else {\r\n          return null\r\n        }\r\n      },\r\n      altDepTable() {\r\n        if (this.options.alternate) {\r\n          return this.options.alternate.dependentTable;\r\n        } else {\r\n          return null\r\n        }\r\n      },\r\n    },\r\n    methods: {\r\n      shouldShowTable(id) {\r\n        let result = true;\r\n\r\n        // if the table is in a tab group or table group, it will have an \"item\" in props\r\n        // if (this.item) {\r\n          // if it is in a table group, the item will contain an \"activeTable\" for the group\r\n          // if (this.activeTable) {\r\n            // const id = this.options.id;\r\n            if (this.tableGroupData.activeTable != id) {\r\n              result = false\r\n            }\r\n          // }\r\n        // }\r\n        // if there is no data, and the table should not show at all if it is empty\r\n        // if (this.options.showOnlyIfData && this.tableGroupData.length === 0) {\r\n        //   result = false;\r\n        // }\r\n\r\n        return result;\r\n      },\r\n      slugifyFilterValue(filterValue) {\r\n        const { direction, value, unit } = filterValue;\r\n        return [direction, value, unit].join('-');\r\n      },\r\n      deslugifyFilterValue(slug) {\r\n        const parts = slug.split('-');\r\n        const [direction, value, unit] = parts;\r\n        return {value, unit, direction};\r\n      },\r\n      handleFilterValueChange(e) {\r\n        console.log('handle activeTable value change', e);\r\n        const target = e.target;\r\n        const slug = target.value;\r\n        // deslugify filter value\r\n        const valueObj = this.deslugifyFilterValue(slug);\r\n        const tableName = valueObj.value;\r\n\r\n        // add activeTable to local data\r\n        this.tableGroupData.activeTable = tableName;\r\n\r\n        // add activeTableId to local data\r\n        for (let comp of this.options.tables) {\r\n          console.log('tableName:', tableName, 'comp.options.id:', comp.options.id, 'comp:', comp);\r\n          if (comp.options.id === tableName) {\r\n            this.tableGroupData.activeTableId = comp._id;\r\n          }\r\n        }\r\n\r\n        console.log('handleFilterValueChange, this.tableGroupData:', this.tableGroupData);\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .tabs-panel {\r\n    padding: 20px;\r\n  }\r\n\r\n  .inline-block {\r\n    display: inline-block;\r\n  }\r\n\r\n  .vertically-centered {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .mb-horizontal-table-controls {\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  /* dropdown filters */\r\n  .mb-select-text {\r\n    font-size: 16px;\r\n    padding-right: 5px;\r\n    padding-left: 5px;\r\n  }\r\n\r\n  .mb-select {\r\n    width: auto;\r\n    height: 40px;\r\n    vertical-align: middle;\r\n    /*padding-right: 20px;*/\r\n  }\r\n\r\n  .mb-select-option {\r\n    display: inline-block;\r\n    padding-right: 100px;\r\n    margin-right: 100px;\r\n  }\r\n</style>\r\n","<template>\r\n  <div v-if=\"shouldShowTopic\">\r\n  <!-- <div> -->\r\n    <a href=\"#\"\r\n       class=\"topic-header\"\r\n       @click.prevent=\"handleTopicHeaderClick\"\r\n       v-if=\"shouldShowHeader\"\r\n       :data-topic-key=\"topicKey\"\r\n    >\r\n      <div class='topic-header-content'>\r\n        <font-awesome-icon :icon=\"icon\" />\r\n        <div class='topic-header-label-holder'>\r\n          {{ topic.label }}\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"loading\"> -->\r\n      <span v-show=\"status === 'waiting'\" class=\"loading\">\r\n        <font-awesome-icon icon=\"spinner\" class=\"fa-lg spin\" />\r\n      </span>\r\n      <!-- </div> -->\r\n    </a>\r\n\r\n    <!-- success -->\r\n    <transition name=\"topic-body\">\r\n      <div class=\"topic-body\"\r\n           v-if=\"shouldShowBody\"\r\n           :data-topic-key=\"topicKey\"\r\n      >\r\n        <topic-component-group :topic-components=\"topic.components\" />\r\n      </div>\r\n    </transition>\r\n\r\n    <!-- error -->\r\n    <div class=\"topic-body\"\r\n         v-show=\"shouldShowError\"\r\n         v-html=\"this.errorMessage\"\r\n    >\r\n    <!-- Could not locate records for that address. -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponentGroup from './TopicComponentGroup.vue';\r\n\r\n  export default {\r\n    name: 'Topic',\r\n    props: ['topicKey'],\r\n    components: {},\r\n    beforeCreate() {\r\n      this.$options.components.TopicComponentGroup = TopicComponentGroup;\r\n    },\r\n    computed: {\r\n      // returns the full config object for the topic\r\n      topic() {\r\n        const topicKey = this.$props.topicKey;\r\n        const topicsFiltered = this.$config.topics.filter((topic) => {\r\n          return topic.key === this.$props.topicKey;\r\n        });\r\n        if (topicsFiltered.length !== 1) {\r\n          throw `Could not get single config object for topic '${topicKey}'.`;\r\n        }\r\n        const config = topicsFiltered[0];\r\n        return config;\r\n      },\r\n      icon() {\r\n        return this.topic.icon;\r\n      },\r\n      isActive() {\r\n        const key = this.topic.key;\r\n        const activeTopic = this.$store.state.activeTopic;\r\n        return activeTopic === key;\r\n      },\r\n      shouldShowHeader() {\r\n        return this.$config.topics.length > 1;\r\n      },\r\n      dataSources() {\r\n        return this.topic.dataSources || [];\r\n      },\r\n      hasData() {\r\n        // console.log(this.topicKey, '-', 'hasData?', this.dataSources);\r\n\r\n        // make sure the following is true for all data sources\r\n        const hasData = this.dataSources.every(dataSource => {\r\n          const targetsFn = this.$config.dataSources[dataSource].targets;\r\n\r\n          // if the data source is configured for targets\r\n          if (targetsFn) {\r\n            const targetsMap = this.$store.state.sources[dataSource].targets;\r\n            const targets = Object.values(targetsMap);\r\n\r\n            // but there are no targets for this address, return false\r\n            if (targets.length === 0) {\r\n              return false;\r\n            }\r\n\r\n            // if there are targets for this address, make sure none of them\r\n            // are \"waiting\"\r\n            return targets.every(target => target.status !== 'waiting');\r\n\r\n          // if the data source is not configured for targets, just check that\r\n          // it has data\r\n          } else {\r\n            return !!this.$store.state.sources[dataSource].data;\r\n          }\r\n        });\r\n\r\n        return hasData;\r\n      },\r\n      shouldShowBody() {\r\n        const succeeded = this.status === 'success';\r\n        const hasData = this.hasData;\r\n        const should = succeeded && hasData && this.isActive;\r\n        return should;\r\n      },\r\n      shouldShowTopic() {\r\n        if (!this.topic.onlyShowTopicIfDataExists) {\r\n          return true;\r\n        } else {\r\n          let result = true;\r\n          const requiredDataSources = Object.keys(this.topic.onlyShowTopicIfDataExists);\r\n          // console.log('requiredDataSources', requiredDataSources);\r\n          for (let requiredDataSource of requiredDataSources) {\r\n            const dataSource = this.topic.onlyShowTopicIfDataExists[requiredDataSource];\r\n            const pathToDataArray = dataSource.pathToDataArray;\r\n            const minDataLength = dataSource.minDataLength;\r\n            // console.log('requiredDataSource', requiredDataSource, 'dataSource', dataSource);\r\n            let dataArray;\r\n            if (!this.$store.state.sources[requiredDataSource].data) {\r\n              // if there is no data (yet)\r\n              return false;\r\n            } else {\r\n              if (!pathToDataArray) {\r\n                dataArray = this.$store.state.sources[requiredDataSource].data;\r\n              } else if (pathToDataArray.length === 1) {\r\n                dataArray = this.$store.state.sources[requiredDataSource].data[pathToDataArray[0]];\r\n              }\r\n              // TODO - implement system if the path to the data is longer than a single step\r\n              // else {\r\n                //   dataArray = this.$store.state.sources[requiredDataSource].data[pathToDataArray[0]].[pathToDataArray[1]];\r\n                // }\r\n              if (dataArray.length < minDataLength) {\r\n                result = false\r\n              }\r\n            }\r\n          }\r\n          return result;\r\n        }\r\n      },\r\n      shouldShowError() {\r\n        const shouldShowError = (\r\n          // topic must be active and\r\n          this.isActive && (\r\n            // there either has to be an error or\r\n            this.status === 'error' ||\r\n            // we got the response and it's empty\r\n            (this.status !== 'waiting' && !this.hasData)\r\n          )\r\n        );\r\n        shouldShowError && console.log('BINGO BINGO BINGO:', this.topicKey, 'shouldShowError:', shouldShowError, 'status:', this.status, 'hasData:', this.hasData);\r\n        return shouldShowError;\r\n      },\r\n      errorMessage() {\r\n        if (this.topic.errorMessage) {\r\n          return this.topic.errorMessage(this.$store.state);\r\n        } else {\r\n          return 'Could not locate records for that address.';\r\n        }\r\n      },\r\n      // REVIEW this is getting cached and not updating when the deps update\r\n      status: {\r\n        cache: false,\r\n        get() {\r\n          // get the status of each source\r\n          const dataSources = this.topic.dataSources || [];\r\n\r\n          // if no sources, return success\r\n          if (dataSources.length === 0) {\r\n            return 'success';\r\n          }\r\n\r\n          let topicStatus;\r\n          const sourceStatuses = dataSources.map(dataSource => {\r\n            const targetsFn = this.$config.dataSources[dataSource].targets;\r\n\r\n            // if the data source is configured for targets\r\n            if (targetsFn) {\r\n              const targetsMap = this.$store.state.sources[dataSource].targets;\r\n              const targets = Object.values(targetsMap);\r\n\r\n              // but there are no targets for this address, return false\r\n              if (targets.length === 0) {\r\n                return;\r\n              }\r\n\r\n              // if there are targets for this address, make sure none of them\r\n              // are \"waiting\"\r\n              return targets.map(target => {\r\n                return target.status\r\n              });\r\n\r\n            // if the data source is not configured for targets, just check that\r\n            // it has data\r\n            } else {\r\n              return [this.$store.state.sources[dataSource].status];\r\n            }\r\n          });\r\n\r\n          let flatArray = []\r\n          for (let sourceStatus of sourceStatuses) {\r\n            if (sourceStatus) {\r\n              for (let sourceStatusValue of sourceStatus) {\r\n                flatArray.push(sourceStatusValue);\r\n              }\r\n            }\r\n          }\r\n\r\n          if (flatArray.includes('waiting')) {\r\n            topicStatus = 'waiting';\r\n          } else if (flatArray.includes('error')) {\r\n            topicStatus = 'error';\r\n          } else {\r\n            topicStatus = 'success';\r\n          }\r\n          return topicStatus;\r\n        }\r\n      },\r\n    },\r\n    methods: {\r\n      configForBasemap(key) {\r\n        return this.$config.map.basemaps[key];\r\n      },\r\n\r\n      handleTopicHeaderClick(e) {\r\n        const topic = this.$props.topicKey;\r\n        let nextTopic;\r\n\r\n        if (topic !== this.$store.state.activeTopic) {\r\n          nextTopic = topic;\r\n        }\r\n\r\n        // notify controller (which will handle routing)\r\n        this.$controller.handleTopicHeaderClick(nextTopic);\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  /*REVIEW these aren't prefixed `mb-`because they're scoped, but it feels\r\n  inconsistent?*/\r\n  .topic-header {\r\n    background: #f5f5f5;\r\n    border: 1px solid #ddd;\r\n    display: block;\r\n    font-size: 18px;\r\n    font-weight: normal;\r\n    min-height: 70px;\r\n    line-height: 25px;\r\n    padding: 10px;\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n    margin-bottom: 8px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .topic-header:hover {\r\n    background: #fff;\r\n    color: inherit;\r\n  }\r\n\r\n  .topic-header-content {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n\r\n  .topic-header-icon {\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n  }\r\n\r\n  .topic-header-label-holder {\r\n    margin-left: 15px;\r\n  }\r\n\r\n  .topic-body {\r\n    padding: 5px;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .topic-body-enter-active, .topic-body-leave-active {\r\n    transition: opacity 0.18s;\r\n  }\r\n\r\n  .topic-body-enter, .topic-body-leave-to {\r\n    opacity: 0;\r\n  }\r\n</style>\r\n","<template>\r\n  <div>\r\n    <topic v-for=\"topic in this.$config.topics\"\r\n           :topicKey=\"topic.key\"\r\n           :key=\"topic.key\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Topic from './Topic.vue';\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    name: 'TopicSet',\r\n    components: {\r\n      Topic,\r\n    },\r\n    mounted() {\r\n      if (this.$store.state.activeTopic === null || this.$store.state.activeTopic === '') {\r\n        this.setDefaultTopicActive();\r\n      }\r\n    },\r\n    methods: {\r\n      setDefaultTopicActive() {\r\n        if (this.$props.options.defaultTopic) {\r\n          this.$store.state.activeTopic = this.$props.options.defaultTopic;\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n","<template>\r\n  <div class=\"pl-alert\"\r\n       :style=\"plAlertStyle\"\r\n  >\r\n    <span class=\"pl-alert-close-button\" @click=\"close\">\r\n      <font-awesome-icon icon=\"times-circle\" class=\"fa-2x\" />\r\n    </span>\r\n    <div class=\"pl-alert-body\">\r\n      <span v-html=\"this.value\"></span>\r\n      <topic-component-group :topic-components=\"options.components\" :item=\"item\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import TopicComponentGroup from './TopicComponentGroup.vue';\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    data() {\r\n      const data = {\r\n        plAlertStyle: {\r\n          'height': '300px'\r\n        }\r\n      };\r\n      return data;\r\n    },\r\n    beforeCreate() {\r\n      this.$options.components.TopicComponentGroup = TopicComponentGroup;\r\n    },\r\n    created() {\r\n      // console.log('this.$props.options.height:', this.$props.options.height);\r\n      if (this.$props.options.height) {\r\n        this.plAlertStyle.height = this.$props.options.height;\r\n      }\r\n    },\r\n    computed: {\r\n      value() {\r\n        if (this.$props.slots.text) {\r\n          return this.$props.slots.text;\r\n        } else {\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      close() {\r\n        this.$store.commit('setPopoverOpen', false);\r\n        this.$store.commit('setPopoverOptions', {});\r\n        this.$store.commit('setPopoverText', '');\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style>\r\n\r\n  .pl-alert {\r\n    position: fixed;\r\n    right: 0;\r\n    bottom: 0;\r\n    /* height: 100%; */\r\n    /* height: 300px; */\r\n    width: 100%;\r\n    background: rgba(68, 68, 68, 0.95);\r\n    color: #fff;\r\n    z-index: 10000;\r\n    font-size: 1.25em;\r\n    margin: 0 auto;\r\n    padding: 1em;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  .pl-alert-body {\r\n    width: 75%;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    margin-bottom: 0 auto;\r\n    margin-top: 50px;\r\n  }\r\n\r\n  .pl-alert-close-button {\r\n    position: fixed;\r\n    right: 40px;\r\n    /* float: right; */\r\n    cursor: pointer;\r\n  }\r\n\r\n  .pl-alert a {\r\n    color: #a5c0e4 !important;\r\n  }\r\n\r\n</style>\r\n","<template>\r\n  <div>\r\n    <component v-for=\"(comp, compIndex) in topicComponents\"\r\n               :is=\"comp.type\"\r\n               class=\"topic-component\"\r\n               :slots=\"comp.slots\"\r\n               :options=\"comp.options\"\r\n               :item=\"item\"\r\n               :key=\"getCompKey(key, compIndex)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import generateUniqueId from '../util/unique-id';\r\n\r\n  import AnyHeader from './AnyHeader.vue';\r\n  import Badge from './Badge.vue';\r\n  import ButtonComp from './ButtonComp.vue';\r\n  import Callout from './Callout.vue';\r\n  import CollectionSummary from './CollectionSummary.vue';\r\n  import Division from './Division.vue';\r\n  import ePayForm from './ePayForm.vue';\r\n  import ExternalLink from './ExternalLink.vue';\r\n  import HorizontalTable from './HorizontalTable.vue';\r\n  import Image_ from './Image.vue';\r\n  import VerticalTable from './VerticalTable.vue';\r\n  import OverlayToggleGroup from './OverlayToggleGroup.vue';\r\n  import Paragraph from './Paragraph.vue';\r\n  import SpanComp from './SpanComp.vue';\r\n  import List from './List.vue';\r\n  import TabGroup from './TabGroup.vue';\r\n  import HorizontalTableGroup from './HorizontalTableGroup.vue';\r\n  import BadgeCustom from './BadgeCustom.vue';\r\n  import Topic from './Topic.vue';\r\n  import TopicSet from './TopicSet.vue';\r\n  import PopoverLink from './PopoverLink.vue';\r\n  import Popover from './Popover.vue';\r\n  // console.log('in TopicComponentGroup.vue script, BadgeCustom:', BadgeCustom, 'Badge:', Badge, 'TabGroup:', TabGroup, 'Callout:', Callout, 'CollectionSummary:', CollectionSummary, 'HorizontalTable:', HorizontalTable);\r\n\r\n  export default {\r\n    name: 'TopicComponentGroup',\r\n    props: ['topicComponents', 'item', 'filterData'],\r\n    components: {\r\n      Badge,\r\n      ButtonComp,\r\n      Callout,\r\n      CollectionSummary,\r\n      Division,\r\n      ePayForm,\r\n      ExternalLink,\r\n      HorizontalTable,\r\n      Image_,\r\n      VerticalTable,\r\n      OverlayToggleGroup,\r\n      Paragraph,\r\n      SpanComp,\r\n      List,\r\n      HorizontalTableGroup,\r\n      PopoverLink,\r\n      Popover,\r\n    },\r\n    beforeCreate() {\r\n      // console.log('TopicComponentGroup beforeCreate is running');\r\n      this.$options.components.TabGroup = TabGroup;\r\n      this.$options.components.BadgeCustom = BadgeCustom;\r\n      this.$options.components.Topic = Topic;\r\n      this.$options.components.TopicSet = TopicSet;\r\n      this.$options.components.AnyHeader = AnyHeader;\r\n    },\r\n    data() {\r\n      return {\r\n        // generate a (basically) unique id for the group. the go-to npm packages\r\n        // for uuid generation aren't available as umd builds on unpkg and\r\n        // therefore won't work with the examples. this is good enough :)\r\n        key: generateUniqueId()\r\n      };\r\n    },\r\n    methods: {\r\n      getCompKey(compGroupKey, compIndex) {\r\n        return `topic-comp-${compGroupKey}-${compIndex}`;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .topic-component {\r\n    /* margin-bottom: 10px !important; */\r\n  }\r\n</style>\r\n","<template>\r\n  <!-- REVIEW this uses patterns -->\r\n  <div class=\"center\">\r\n    <div class=\"mb-badge panel\">\r\n      <div class=\"mb-badge-header\" :style=\"style\">\r\n        {{ evaluateSlot(slots.title) }}\r\n      </div>\r\n      <topic-component-group :topic-components=\"options.components\" :item=\"item\" />\r\n    </div>\r\n    <external-link v-if=\"options && options.externalLink\"\r\n                   :options=\"options.externalLink\"\r\n                   :type=\"'badge-custom'\"\r\n    />\r\n    <!-- <div class=\"external-link\">\r\n      <a v-if=\"options && options.externalLink\"\r\n      :href=\"externalLinkHref\"\r\n      class=\"external external-link\"\r\n      target=\"_blank\"\r\n      >\r\n      {{ externalLinkText }}\r\n    </a>\r\n  </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import TopicComponentGroup from './TopicComponentGroup.vue';\r\n  import ExternalLink from './ExternalLink.vue';\r\n\r\n  export default {\r\n    name: 'BadgeCustom',\r\n    mixins: [TopicComponent],\r\n    components: {\r\n      ExternalLink,\r\n    },\r\n    beforeCreate() {\r\n      this.$options.components.TopicComponentGroup = TopicComponentGroup;\r\n    },\r\n    computed: {\r\n      style() {\r\n        const titleBackgroundValOrFn = (this.options || {}).titleBackground;\r\n        let titleBackground;\r\n\r\n        if (titleBackgroundValOrFn) {\r\n          if (typeof titleBackgroundValOrFn === 'function') {\r\n            titleBackground = titleBackgroundValOrFn(this.$store.state);\r\n          } else {\r\n            titleBackground = titleBackgroundValOrFn;\r\n          }\r\n        } else {\r\n          titleBackground = '#444';\r\n        }\r\n\r\n        return { background: titleBackground };\r\n      },\r\n      // externalLinkAction() {\r\n      //   return this.evaluateSlot(this.options.externalLink.action) || 'See more at ';\r\n      // },\r\n      // externalLinkText() {\r\n      //   const externalLinkConf = this.options.externalLink;\r\n      //   const actionFn = externalLinkConf.action;\r\n      //   const name = this.externalLinkAction || '';\r\n      //   return `${name}`;\r\n      // },\r\n      // externalLinkHref() {\r\n      //   return this.evaluateSlot(this.options.externalLink.href);\r\n      // },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .mb-badge {\r\n    /*width: 300px;*/\r\n    padding: 0;\r\n    margin: 0 auto;\r\n    /* margin-bottom: inherit; */\r\n    margin-bottom: 10px !important;\r\n  }\r\n\r\n  @media (max-width: 640px) {\r\n    .mb-badge {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  /*REVIEW this should use foundation classes*/\r\n  @media (min-width: 640px) {\r\n    .mb-badge {\r\n      width: 325px;\r\n    }\r\n  }\r\n\r\n  .mb-badge-header {\r\n    color: #fff;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    padding-top: 2px;\r\n    padding-bottom: 2px;\r\n  }\r\n\r\n  .mb-badge-body {\r\n    padding: 12px;\r\n  }\r\n\r\n  .mb-badge-body > h1 {\r\n    margin: 0;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  .external-link {\r\n    padding-top: 5px;\r\n  }\r\n\r\n</style>\r\n","<template>\r\n  <div id=\"toggle-tab\"\r\n       class=\"toggle-tab\"\r\n       :style=\"{ top: buttonPosition }\"\r\n       @click=\"handleFullScreenTopicsToggleButtonClick\"\r\n       v-if=\"!this.isMobileOrTablet\"\r\n  >\r\n    <span class=\"align-span\">\r\n      <font-awesome-icon :icon=\"this.currentIcon\" class=\"fa-2x\" />\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      elementContainer: {\r\n        type: String,\r\n        default: 'topic-panel-container'\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        'divHeight': 0,\r\n        'buttonPosition': 0,\r\n      }\r\n    },\r\n    mounted() {\r\n      window.addEventListener('resize', this.setDivHeight);\r\n      this.setDivHeight();\r\n    },\r\n    computed: {\r\n      fullScreenMapEnabled() {\r\n        return this.$store.state.fullScreenMapEnabled;\r\n      },\r\n      fullScreenTopicsEnabled() {\r\n        console.log('this.$store.state.fullScreenTopicsEnabled:', this.$store.state.fullScreenTopicsEnabled);\r\n        return this.$store.state.fullScreenTopicsEnabled;// || true;\r\n      },\r\n      isMobileOrTablet() {\r\n        return this.$store.state.isMobileOrTablet;\r\n      },\r\n      cyclomediaActive() {\r\n        if (this.$store.state.cyclomedia) {\r\n          return this.$store.state.cyclomedia.active;\r\n        } else {\r\n          return null;\r\n        }\r\n      },\r\n      pictometryActive() {\r\n        if (this.$store.state.pictometry) {\r\n          return this.$store.state.pictometry.active;\r\n        } else {\r\n          return null;\r\n        }\r\n      },\r\n      picOrCycloActive() {\r\n        if (this.cyclomediaActive || this.pictometryActive) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      currentIcon() {\r\n        if (this.fullScreenTopicsEnabled) {\r\n          return 'caret-left';\r\n        } else {\r\n          return 'caret-right';\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      picOrCycloActive() {\r\n        this.$nextTick(() => {\r\n          this.setDivHeight();\r\n        })\r\n      }\r\n    },\r\n    methods: {\r\n      setDivHeight() {\r\n        let el;\r\n        if (this.fullScreenTopicsEnabled) {\r\n          el = document.getElementById(this.$props.elementContainer);\r\n        } else {\r\n          el = document.getElementById('map-tag');\r\n        }\r\n        const mapDivStyle = window.getComputedStyle(el);\r\n        const mapDivHeight = parseFloat(mapDivStyle.getPropertyValue('height').replace('px', ''));\r\n        // console.log('FullScreenTopicsToggleTab setDivHeight is running, el:', el, 'mapDivHeight:', mapDivHeight);\r\n\r\n        this.buttonPosition = (mapDivHeight-48)/2 + 'px';\r\n      },\r\n      handleFullScreenTopicsToggleButtonClick(e) {\r\n        const prevFullScreenTopicsEnabled = this.$store.state.fullScreenTopicsEnabled;\r\n        const nextFullScreenTopicsEnabled = !prevFullScreenTopicsEnabled;\r\n        this.$store.commit('setFullScreenTopicsEnabled', nextFullScreenTopicsEnabled);\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  /* .toggle-tab {\r\n    position: absolute;\r\n    left: 0px;\r\n    border-width: 1.3px;\r\n    border-color: #CAC9C9;\r\n    height: 48px;\r\n    line-height: 58px;\r\n    width:24px;\r\n    background-color: white;\r\n    display: inline-block;\r\n    z-index: 500; */\r\n    /* border-left-style: solid; */\r\n    /* box-shadow: 2px 2px 7px grey; */\r\n  /* } */\r\n\r\n  .toggle-tab {\r\n    display: none;\r\n  }\r\n\r\n  .align-span {\r\n    margin-left: 6px;\r\n  }\r\n\r\n  @media screen and (min-width: 46.875em) {\r\n    .toggle-tab {\r\n      position: absolute;\r\n      right: 0px;\r\n      border-width: 1.3px;\r\n      border-style: solid;\r\n      border-color: #CAC9C9;\r\n      height: 48px;\r\n      line-height: 56px;\r\n      width:24px;\r\n      background-color: white;\r\n      display: inline-block;\r\n      z-index: 500;\r\n      opacity: 0.7;\r\n      /* border-left-style: solid; */\r\n      /* box-shadow: 2px 2px 7px grey; */\r\n    }\r\n  }\r\n\r\n</style>\r\n","<template>\r\n  <div id=\"toggle-tab\"\r\n       class=\"toggle-tab\"\r\n       :style=\"{ left: buttonPosition }\"\r\n       @click=\"handleFullScreenTopicsToggleButtonClick\"\r\n       v-if=\"!this.isMobileOrTablet\"\r\n  >\r\n    <span class=\"align-span\">\r\n      <font-awesome-icon :icon=\"this.currentIcon\" class=\"fa-2x\" />\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        'divWidth': 0,\r\n        'buttonPosition': 0,\r\n      }\r\n    },\r\n    mounted() {\r\n      window.addEventListener('resize', this.setDivWidth);\r\n      this.setDivWidth();\r\n    },\r\n    computed: {\r\n      fullScreenMapEnabled() {\r\n        return this.$store.state.fullScreenMapEnabled;\r\n      },\r\n      fullScreenTopicsEnabled() {\r\n        return this.$store.state.fullScreenTopicsEnabled;\r\n      },\r\n      isMobileOrTablet() {\r\n        return this.$store.state.isMobileOrTablet;\r\n      },\r\n      cyclomediaActive() {\r\n        return this.$store.state.cyclomedia.active;\r\n      },\r\n      pictometryActive() {\r\n        return this.$store.state.pictometry.active;\r\n      },\r\n      picOrCycloActive() {\r\n        if (this.cyclomediaActive || this.pictometryActive) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      currentIcon() {\r\n        if (this.fullScreenTopicsEnabled) {\r\n          return 'caret-down'\r\n        } else {\r\n          return 'caret-up'\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      fullScreenMapEnabled() {\r\n        this.setDivWidth();\r\n      }\r\n    },\r\n    methods: {\r\n      setDivWidth() {\r\n        let el;\r\n        if (this.fullScreenTopicsEnabled) {\r\n          el = document.getElementById('topic-panel-container');\r\n        } else {\r\n          el = document.getElementById('map-tag');\r\n        }\r\n        const mapDivStyle = window.getComputedStyle(el);\r\n        const mapDivWidth = parseFloat(mapDivStyle.getPropertyValue('width').replace('px', ''));\r\n        this.buttonPosition = (mapDivWidth-48)/2 + 'px';\r\n      },\r\n      handleFullScreenTopicsToggleButtonClick(e) {\r\n        const prevFullScreenTopicsEnabled = this.$store.state.fullScreenTopicsEnabled;\r\n        const nextFullScreenTopicsEnabled = !prevFullScreenTopicsEnabled;\r\n        this.$store.commit('setFullScreenTopicsEnabled', nextFullScreenTopicsEnabled);\r\n      },\r\n    }\r\n  };\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .toggle-tab {\r\n    display: none;\r\n  }\r\n\r\n  .align-span {\r\n    margin-left: 14px;\r\n  }\r\n\r\n  @media screen and (min-width: 46.875em) {\r\n    .toggle-tab {\r\n      position: fixed;\r\n      top: inherit;\r\n      border-width: 1.3px;\r\n      border-style: solid;\r\n      border-color: #CAC9C9;\r\n      height: 24px;\r\n      line-height: 16px;\r\n      width:48px;\r\n      background-color: white;\r\n      display: inline-block;\r\n      z-index: 500;\r\n      opacity: 0.7;\r\n      /* border-left-style: solid; */\r\n      /* box-shadow: 2px 2px 7px grey; */\r\n    }\r\n  }\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"columns medium-20 medium-centered\"\r\n       :style=\"greetingStyle\"\r\n  >\r\n\r\n    <address-input v-if=\"this.shouldShowAddressInput\" />\r\n    <address-candidate-list v-if=\"this.addressAutocompleteEnabled && this.shouldShowAddressInput\"/>\r\n\r\n    <div v-if=\"!components && !hasError\" class=\"greeting\" v-html=\"message\">\r\n      <!-- {{ this.$props.message }} -->\r\n    </div>\r\n\r\n    <div v-if=\"!components && hasError\" class=\"greeting greeting-error\" v-html=\"errorMessage\">\r\n    </div>\r\n\r\n    <topic-component-group :topic-components=\"options.components\" :item=\"item\" />\r\n\r\n    <component v-if=\"components\"\r\n               v-for=\"(topicComp, topicCompIndex) in components\"\r\n               class=\"topic-comp\"\r\n               :is=\"topicComp.type\"\r\n               :slots=\"topicComp.slots\"\r\n               :key=\"'greeting'\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponent from './TopicComponent.vue';\r\n  import TopicComponentGroup from './TopicComponentGroup.vue';\r\n  import Image_ from './Image.vue';\r\n  import AddressInput from './AddressInput.vue';\r\n  import AddressCandidateList from './AddressCandidateList.vue';\r\n\r\n  export default {\r\n    components: {\r\n      Image_,\r\n      AddressInput,\r\n      AddressCandidateList,\r\n    },\r\n    mixins: [TopicComponent],\r\n    data() {\r\n      let data = {\r\n        greetingStyle: this.$props.options.style || {}\r\n      }\r\n      return data;\r\n    },\r\n    props: {\r\n      'message': {\r\n        type: String,\r\n        default: function() {\r\n          return 'defaultMessage';\r\n        }\r\n      },\r\n    },\r\n    beforeCreate() {\r\n      if (this.$options.components) {\r\n        this.$options.components.TopicComponentGroup = TopicComponentGroup;\r\n      }\r\n    },\r\n    computed: {\r\n      shouldShowAddressInput() {\r\n        if (this.$config.addressInputLocation == 'topics') {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      addressAutocompleteEnabled() {\r\n        // TODO tidy up the code\r\n        if (this.$config.addressInput) {\r\n          if (this.$config.addressInput.autocompleteEnabled === true) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      components() {\r\n        const greetingConfig = this.$config.greeting || {};\r\n        return greetingConfig.components;\r\n      },\r\n      hasError() {\r\n        return this.$store.state.geocode.status === 'error';\r\n      },\r\n      errorMessage() {\r\n        const input = this.$store.state.geocode.input;\r\n        return `\r\n          <p>\r\n            We couldn't find\r\n            ${input ? '<strong>' + input + '</strong>' : 'that address'}.\r\n            Are you sure everything was spelled correctly?\r\n          </p>\r\n          <p>\r\n            Here are some examples of things you can search for:\r\n          </p>\r\n          <ul>\r\n            <li>1234 Market St</li>\r\n            <li>1001 Pine Street #201</li>\r\n            <li>12th & Market</li>\r\n          </ul>\r\n        `;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .mb-panel-topics-greeting {\r\n    padding-top: 20px;\r\n  }\r\n\r\n  .greeting {\r\n    font-size: 20px;\r\n    color: #444;\r\n    padding: 14px;\r\n  }\r\n\r\n  .greeting-error {\r\n    border-left-color: #ff0000;\r\n  }\r\n\r\n  /*medium*/\r\n  @media screen and (min-width: 750px) {\r\n    .mb-panel-topics-greeting {\r\n      /*make this scroll on medium screens*/\r\n      /*REVIEW this is a little hacky. the 120px shouldn't be hard-coded.*/\r\n      height: calc(100vh - 120px);\r\n      overflow: auto;\r\n    }\r\n  }\r\n</style>\r\n","const initialState = {\r\n  // configurableInputCategorySelected: '',\r\n  // configurableInputValueEntered: '',\r\n  shouldShowAddressCandidateList: false,\r\n  popover: {\r\n    open: false,\r\n    text: '',\r\n    options: {},\r\n  },\r\n  fullScreenTopicsEnabled: false,\r\n};\r\n\r\nconst pvmStore = {\r\n  state: initialState,\r\n  mutations: {\r\n    // setConfigurableInputCategorySelected(state, payload) {\r\n    //   state.configurableInputCategorySelected = payload;\r\n    // },\r\n    // setConfigurableInputValueEntered(state, payload) {\r\n    //   state.configurableInputValueEntered = payload;\r\n    // },\r\n    setShouldShowAddressCandidateList(state, payload) {\r\n      state.shouldShowAddressCandidateList = payload;\r\n    },\r\n    setPopoverOpen(state, payload) {\r\n      state.popover.open = payload;\r\n    },\r\n    setPopoverText(state, payload) {\r\n      state.popover.text = payload;\r\n    },\r\n    setPopoverOptions(state, payload) {\r\n      state.popover.options = payload;\r\n    },\r\n    setFullScreenTopicsEnabled(state, payload) {\r\n      state.fullScreenTopicsEnabled = payload;\r\n    },\r\n  }\r\n}\r\n\r\nexport default pvmStore;\r\n","/*     .__    .__.__\r\n______ |  |__ |__|  | _____            ___  ____ __   ____             ____  ____   _____ ______  ______\r\n\\____ \\|  |  \\|  |  | \\__  \\    ______ \\  \\/ /  |  \\_/ __ \\   ______ _/ ___\\/  _ \\ /     \\\\____ \\/  ___/\r\n|  |_> >   Y  \\  |  |__/ __ \\_ /_____/  \\   /|  |  /\\  ___/  /_____/ \\  \\__(  <_> )  Y Y  \\  |_> >___ \\\r\n|   __/|___|  /__|____(____  /           \\_/ |____/  \\___  >          \\___  >____/|__|_|  /   __/____  >\r\n|__|        \\/             \\/                            \\/               \\/            \\/|__|       \\/\r\n*/\r\n\r\nconsole.log('main.js phila-vue-comps');\r\n\r\n// Font Awesome Icons\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faExternalLink } from '@fortawesome/pro-solid-svg-icons/faExternalLink';\r\nimport { faSearch } from '@fortawesome/pro-solid-svg-icons/faSearch';\r\nimport { faTimes } from '@fortawesome/pro-solid-svg-icons/faTimes';\r\nimport { faTimesCircle } from '@fortawesome/pro-solid-svg-icons/faTimesCircle';\r\nimport { faCaretLeft } from '@fortawesome/pro-solid-svg-icons/faCaretLeft';\r\nimport { faCaretRight } from '@fortawesome/pro-solid-svg-icons/faCaretRight';\r\nlibrary.add(faExternalLink, faSearch, faTimes, faTimesCircle, faCaretLeft, faCaretRight);\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\r\n\r\nimport AddressCandidateList from './components/AddressCandidateList.vue';\r\nimport AddressInput from './components/AddressInput.vue';\r\nimport ConfigurableInput from './components/ConfigurableInput.vue';\r\nimport AnyHeader from './components/AnyHeader.vue';\r\nimport Badge from './components/Badge.vue';\r\nimport BadgeCustom from './components/BadgeCustom.vue';\r\nimport ButtonComp from './components/ButtonComp.vue';\r\nimport Callout from './components/Callout.vue';\r\nimport CollectionSummary from './components/CollectionSummary.vue';\r\nimport Division from './components/Division.vue';\r\nimport ExternalLink from './components/ExternalLink.vue';\r\nimport ePayForm from './components/ePayForm.vue';\r\nimport FullScreenTopicsToggleTab from './components/FullScreenTopicsToggleTab.vue';\r\nimport FullScreenTopicsToggleTabVertical from './components/FullScreenTopicsToggleTabVertical.vue';\r\nimport Greeting from './components/Greeting.vue';\r\nimport HorizontalTable from './components/HorizontalTable.vue';\r\nimport HorizontalTableGroup from './components/HorizontalTableGroup.vue';\r\nimport HorizontalTableRow from './components/HorizontalTableRow.vue';\r\nimport Image from './components/Image.vue';\r\nimport List from './components/List.vue';\r\nimport OverlayToggleGroup from './components/OverlayToggleGroup.vue';\r\nimport Paragraph from './components/Paragraph.vue';\r\nimport SpanComp from './components/SpanComp.vue';\r\nimport TabGroup from './components/TabGroup.vue';\r\nimport VerticalTable from './components/VerticalTable.vue';\r\nimport Topic from './components/Topic.vue';\r\nimport TopicSet from './components/TopicSet.vue';\r\nimport TopicComponent from './components/TopicComponent.vue';\r\nimport TopicComponentGroup from './components/TopicComponentGroup.vue';\r\nimport Popover from './components/Popover.vue';\r\nimport PopoverLink from './components/PopoverLink.vue';\r\n\r\nimport pvcStore from './store.js';\r\n\r\nexport {\r\n  pvcStore,\r\n  AddressCandidateList,\r\n  AddressInput,\r\n  ConfigurableInput,\r\n  AnyHeader,\r\n  Badge,\r\n  BadgeCustom,\r\n  ButtonComp,\r\n  Callout,\r\n  CollectionSummary,\r\n  Division,\r\n  ExternalLink,\r\n  ePayForm,\r\n  FullScreenTopicsToggleTab,\r\n  FullScreenTopicsToggleTabVertical,\r\n  Greeting,\r\n  HorizontalTable,\r\n  HorizontalTableGroup,\r\n  HorizontalTableRow,\r\n  Image,\r\n  List,\r\n  OverlayToggleGroup,\r\n  Paragraph,\r\n  SpanComp,\r\n  TabGroup,\r\n  VerticalTable,\r\n  Topic,\r\n  TopicSet,\r\n  TopicComponent,\r\n  TopicComponentGroup,\r\n  Popover,\r\n  PopoverLink,\r\n}\r\n"],"names":["const","let","this","tag","format","field","theArray","object","addHours","addDays","addWeeks","addMonths","index","items","library","faExternalLink","faSearch","faTimes","faTimesCircle","faCaretLeft","faCaretRight"],"mappings":"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"}